(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[32],{VL4A:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("SrHn"),r=n("ERkP");function c(e,t){var n=Object(r.useRef)(null),c=t||n,o=c.current,i=Object(r.useRef)(!1);return Object(r.useEffect)((function(){if(o){if(e===i.current)return;e?(Object(a.b)(o),i.current=!0):(Object(a.c)(o),i.current=!1)}}),[e,o]),Object(r.useEffect)((function(){return function(){return Object(a.a)()}}),[]),c}},YUuc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("D57K"),r=n("ERkP"),c=n.n(r),o=n("GG6d"),i=c.a.forwardRef((function(e,t){return c.a.createElement(o.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),c.a.createElement("path",{fillRule:"evenodd",d:"M22.707 1.293a1 1 0 01.237 1.037l-7 20a1 1 0 01-1.858.076l-3.844-8.648-8.648-3.844a1 1 0 01.076-1.858l20-7a1 1 0 011.037.237zM12.193 13.22l2.696 6.068 4.72-13.483-7.416 7.416zm6.001-8.83L4.711 9.111l6.067 2.696 7.416-7.416z",clipRule:"evenodd"}))}))},fsNG:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/logo.410003f7.jpg"},nnyb:function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"l",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"k",(function(){return v})),n.d(t,"b",(function(){return h}));var a,r,c=n("f7k3"),o=n("TMWK"),i=n("fgAA"),l=n("7a+J"),u=Object(o.a)("div",{target:"e201qav0"})(l.a.card,{width:"48px",height:"48px",borderRadius:"8px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",background:i.b.White()},"label:ButtonContainer;"),s=Object(o.a)(u,{target:"e201qav1"})({fontSize:"24px",color:i.b.BaseGrey6(),transition:"color 0.3s","&:hover":{color:i.b.BaseGrey8()}},"label:StyledButtonContainer;"),b=Object(o.a)(s,{target:"e201qav2"})({fontSize:"30px",":hover":{svg:{color:i.b.BlueStandard()}}},"label:ButtonContainerCode;"),d=(i.b.BaseGrey6(),Object(o.a)("div",{target:"e201qav4"})(l.a.modal,{position:"absolute",left:0,bottom:0,width:"280px",height:"280px",display:"none",justifyContent:"center",alignItems:"center",flexDirection:"column",borderRadius:"8px",background:i.b.White(),transform:"translateX(calc(-100% - 16px))",padding:"20px 0 34px 0"},"label:QrContainer;")),f=Object(o.a)("span",{target:"e201qav5"})("\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 25px;\n    color: "+i.b.Black()+";\n","label:QrText;"),p=Object(o.a)("div",{target:"e201qav6"})("\n    width: 126px;\n    height: 126px;\n    margin: 16px 0;\n","label:CodeWrap;"),m=Object(o.a)("span",{target:"e201qav7"})("\n    font-size: 12px;\n    line-height: 150%;\n    color: "+i.b.LabelSecondary()+";\n","label:QrTextSecond;"),g=Object(o.a)("div",{target:"e201qav8"})({position:"relative",":hover":(a={},a[""+d]={display:"flex"},a)},"label:PositionParent;"),j=Object(o.a)("div",{target:"e201qav9"})({position:"fixed",right:"30px",bottom:"30px",zIndex:1},"label:FixedContainer;"),O=Object(c.b)({marginTop:"10px"},"label:marginTop10;"),x=Object(o.a)("div",{target:"e201qav10"})({background:"#fff",borderRadius:"5px",padding:"4px",width:"70px",height:"70px",marginRight:"12px",svg:{width:"100%",height:"100%"},image:{borderRadius:"5px"}},"label:CodeBackground;"),v=Object(o.a)("div",{target:"e201qav11"})(((r={display:"flex",flexDirection:"column",justifyContent:"space-between"})[""+f]={fontSize:"14px",lineHeight:"20px"},r[""+m]={},r),"label:TextContainer;"),h=Object(o.a)("div",{target:"e201qav12"})({display:"flex",borderRadius:"8px",background:i.b.FillQuaternary(),padding:"12px",marginTop:"8px"},"label:Card;")},"u5/7":function(e,t,n){"use strict";n.d(t,"a",(function(){return ze}));var a=n("D57K"),r=n("K/af"),c=n("ERkP"),o=n.n(c),i=n("7nmT"),l=n.n(i),u=n("VL4A"),s=n("FbPB"),b=n("qz+f"),d=n("wbrp"),f=n("TMWK"),p=n("WwoV"),m=Object(f.a)(p.a,{target:"e1wgxdfl0"})({fontSize:"13px",svg:{marginRight:"8px"}},"label:StyledCheckbox;");function g(){var e=Object(a.__read)(Object(r.a)(d.c),2),t=e[0],n=t.anonymous,c=t.uuid,i=e[1].setAnonymous,l=o.a.useMemo((function(){return n}),[])&&Boolean(c);return o.a.createElement(m,{disabled:l,checked:n,onCheckedChange:i},"\u533f\u540d")}var j,O=n("/NrN"),x=n("VxrX"),v=Object(c.memo)((function(){var e=Object(a.__read)(Object(r.a)(d.c),2)[1],t=Object(c.useCallback)((function(){e.hideEditor(),x.a.discuss.discussAnswerEditorCancelButtonClicked()}),[e]);return o.a.createElement(O.a,{size:"sm",onClick:t},"\u53d6\u6d88")})),h=n("v31z"),y=Object(c.memo)((function(){var e=Object(a.__read)(Object(r.a)(d.c),2),t=e[0],n=e[1];return o.a.createElement(h.a,{onClick:n.toggleFullscreen,icon:t.isFullscreen?"fullscreen-exit":"fullscreen",type:"transparent",size:"sm"},t.isFullscreen?"\u9000\u51fa\u5168\u5c4f":"\u5168\u5c4f")})),E=n("fgAA"),k=n("pqRN"),w=n("CkJS"),C=Object(f.a)("div",{target:"e1nkoa980"})({marginBottom:"10px"},"label:Container;"),_=Object(f.a)("div",{target:"e1nkoa981"})({flex:"1 1 0px"},"label:PlaceHolder;"),S=Object(f.a)("i",{target:"e1nkoa982"})({width:"1px",height:"14px",margin:"0 10px",background:E.a.grey(2)},"label:DividingLine;"),z=Object(f.a)("div",{target:"e1nkoa983"})({display:"flex",alignItems:"center",padding:"0 15px",borderBottom:"1px solid "+E.a.grey(2)},"label:Row;"),R=Object(f.a)(z,{target:"e1nkoa984"})({height:"60px","> *:not(:last-child)":{marginRight:"15px"}},"label:FirstRow;"),A=Object(f.a)(z,{target:"e1nkoa985"})({height:"40px"},"label:SecondRow;"),P=Object(f.a)("div",{target:"e1nkoa986"})(w.a.heading.h4,Object(a.__assign)(Object(a.__assign)({},k.l),{lineHeight:"22px",color:E.b.BaseGrey5()}),"label:Reply;"),T=Object(f.a)("span",{target:"e1nkoa987"})({color:E.b.BaseGrey6()},"label:UserName;"),B=n("r3KU"),q=n("HnWI"),F=n("AouM"),M=n("Jg5f"),D=n("HTDA"),I=n("360P"),N=n("sOcD");!function(e){e[e.Publish=0]="Publish",e[e.Mock=1]="Mock"}(j||(j={}));var G=function(e){var t=Object(a.__read)(Object(r.a)(d.c),1)[0],n=Object(a.__read)(Object(r.a)(d.e),1)[0],o=Object(a.__read)(Object(r.a)(D.a),1)[0].currentOfficialAccount;return Object(c.useCallback)((function(){return new q.a((function(r){var c=new AbortController,i=Object(I.a)(t.content,c.signal,n.whitelist).pipe(Object(F.a)(N.a),Object(M.a)((function(n){var r,c=n.content,i=n.mentionedUserSlugs,l=n.thumbnail,u=n.summary;return{data:Object(a.__assign)({content:c,summary:u,mentionedUserSlugs:i,thumbnail:l,questionId:t.question.uuid,postAnonymously:t.anonymous,replyTo:t.replyToAnswerId},e===j.Mock&&{officialAccountSlug:null!==(r=null===o||void 0===o?void 0:o.userSlug)&&void 0!==r?r:""})}}))).subscribe(r);return function(){c.abort(),i.unsubscribe()}}))}),[t,n,o,e])},L=n("fgzu"),U=n("+Aeu");function H(){var e=Object(a.__read)(Object(r.a)(U.a),1)[0];return Object(c.useCallback)((function(){return!!e.content||(L.a.error("\u8ba8\u8bba\u5185\u5bb9\u4e0d\u53ef\u4e3a\u7a7a\uff01"),!1)}),[e])}function J(){var e=Object(a.__read)(Object(r.a)(d.c),2)[1].mock,t=G(j.Mock),n=H(),c=o.a.useCallback((function(){n()&&e(t())}),[e,t,n]);return o.a.createElement(B.a,{onConfirm:c,mockMode:B.b.Publish})}var K=Object(c.memo)((function(){var e=Object(a.__read)(Object(r.a)(d.c),2),t=e[0],n=e[1],i=t.mode===d.b.Preview,l=Object(c.useCallback)((function(){n.switchMode(i?d.b.Edit:d.b.Preview)}),[i,n]);return o.a.createElement(h.a,{type:"transparent",size:"sm",icon:i?"edit":"eye",onClick:l},i?"\u7f16\u8f91":"\u9884\u89c8")})),W=n("YUuc"),X=Object(c.memo)((function(){var e=Object(a.__read)(Object(r.a)(d.c),2),t=e[0],n=e[1],i=Object(a.__read)(Object(r.a)(d.e),2)[1];Object(c.useEffect)(i.refresh,[]);var l=G(j.Publish),u=H(),s=Object(c.useCallback)((function(){u()&&(n.publish(l()),x.a.discuss.discussPublishAnswer())}),[n,l,u]);return o.a.createElement(O.a,{kind:"primary",size:"sm",prefixIcon:o.a.createElement(W.a,null),onClick:s,loading:t.isSubmitting},"\u56de\u590d\u8ba8\u8bba")})),Q=n("G0kv"),V=n("pN2L"),Y=n("xqpu"),Z=n("1QlS"),$=n("nPqx"),ee=n("7oNG"),te=n("yaUI"),ne=n("9Vqi"),ae=n("5XeP"),re=n("y9R/"),ce=Object(c.memo)((function(){var e=Object(c.useContext)(Y.d),t=Object(a.__read)(Object(r.a)(d.c),2),n=t[0],i=t[1],l=Object(a.__read)(Object(r.a)(d.e),2),u=l[0],s=l[1],b=Object(a.__read)(Object(Z.a)(!1),3),f=b[0],p=b[1],m=b[2];Object(c.useEffect)(s.refresh,[]);var g=Object(c.useCallback)((function(){return new q.a((function(e){var t=new AbortController,r=Object(I.a)(n.content,t.signal,u.whitelist).pipe(Object(F.a)((function(e){var t=Object(ee.a)(e),n=t.pipe(Object(F.a)((function(e){return Object(te.a)(e)}))),a=n.pipe(Object(M.a)((function(e){return Object(ne.a)(e)}))),r=Object(ae.a)(t),c=n.pipe(Object(M.a)((function(e){return Object(re.a)(e)})));return Object(Q.b)(Object(V.a)(e),a,r,c)})),Object(M.a)((function(e){var t=Object(a.__read)(e,4);return{data:{content:t[0],mentionedUserSlugs:t[1],thumbnail:t[2],summary:t[3],answerId:n.uuid,postAnonymously:n.anonymous}}}))).subscribe(e);return function(){t.abort(),r.unsubscribe()}}))}),[n,u]),j=H(),O=Object(c.useCallback)((function(){m(),j()&&(i.update(g()),x.a.discuss.discussUpdateAnswer())}),[i,g,j]),v=Object(c.useCallback)((function(){!n.isPicked||e.isAdmin?O():p()}),[n.uuid,n.isPicked,O,e]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{type:"primary",icon:"paper-plane-o",size:"sm",onClick:v,loading:n.isSubmitting},"\u66f4\u65b0\u8ba8\u8bba"),o.a.createElement($.a,{onClose:m,onOk:O,visible:f},"\u60a8\u6b63\u5728\u7f16\u8f91\u7cbe\u9009\u5185\u5bb9\uff0c\u91cd\u65b0\u53d1\u5e03\u540e\u5c06\u4f1a\u88ab\u53d6\u6d88\u7cbe\u9009\uff0c\u518d\u6b21\u5165\u9009\u5c06\u4e0d\u4f1a\u83b7\u79ef\u5206\u5956\u52b1\uff0c\u662f\u5426\u786e\u8ba4\u7ee7\u7eed\uff1f"))})),oe=Object(c.memo)((function(e){var t=e.replyToAuthorName,n=e.onTriggerShortcut,c=Object(a.__read)(Object(r.a)(d.c),1)[0];return o.a.createElement(C,null,o.a.createElement(R,null,t?o.a.createElement(P,null,"\u56de\u590d ",o.a.createElement(T,null,"@",t)):o.a.createElement(v,null),o.a.createElement(_,null),o.a.createElement(g,null),t&&o.a.createElement(v,null),o.a.createElement(J,null),c.uuid?o.a.createElement(ce,null):o.a.createElement(X,null)),o.a.createElement(A,null,o.a.createElement(b.c,{onTrigger:n}),o.a.createElement(_,null),!c.isFullscreen&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K,null),o.a.createElement(S,null)),o.a.createElement(y,null)))})),ie=n("S6Il"),le=Object(c.memo)(Object(c.forwardRef)((function(e,t){var n=Object(a.__read)(Object(r.a)(U.a),2),i=n[0],l=n[1],u=Object(c.useCallback)((function(e){return l.save({content:e})}),[l]);return o.a.createElement(ie.a,{ref:t,content:i.content,onContentChange:u,onSetup:b.e})}))),ue=n("Nyd1"),se=n("rJKo"),be=n("IDXw"),de=n("lDJ/"),fe=n("T/5y"),pe=Object(f.a)("div",{target:"esd88zm0"})(fe.a.layer1,{position:"fixed",left:"0px",right:"0px",bottom:"0px",boxShadow:"0 -1px 10px 0 "+E.a.fix.grey(9,.08),display:"flex",flexDirection:"column",zIndex:1},(function(e){var t=e.isFullscreen,n=e.isShow,a=e.isPending;return{transitionProperty:"transform, opacity, height",transitionDuration:".3s","> *":{pointerEvents:a?"none":"auto"},pointerEvents:n?"auto":"none",opacity:n?1:0,transform:"translateY("+(n?0:100)+"%)",height:t?"100vh":"50vh",cursor:a?"wait":"auto"}}),"label:Container;"),me=Object(f.a)("div",{target:"esd88zm1"})({background:E.a.grey(0),display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},(function(e){var t=e.isPending;return{cursor:t?"wait":"auto","> *":{pointerEvents:t?"none":"auto"}}}),"label:BasicContainer;"),ge=Object(f.a)(me,{target:"esd88zm2"})({position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px"},"label:FullscreenContainer;"),je=(Object(se.b)(E.a.grey(9)).setAlpha(.08),be.n,Object(f.a)(ue.Container,{target:"esd88zm5"})({flex:"1 1 0px"},"label:ResizerContainer;")),Oe=Object(f.a)(ue.Section,{target:"esd88zm6"})({display:"flex",flexDirection:"column"},"label:ResizerSection;"),xe=Object(f.a)(ue.Bar,{target:"esd88zm7"})({zIndex:1,background:E.a.grey(1),transition:"background .3s","&:hover":{background:E.a.grey(7)}},"label:ResizerBar;"),ve=Object(f.a)(de.a,{target:"esd88zm8"})({flex:"1 1 0px",overflow:"scroll",position:"relative"},"label:StyledRenderedMarkdown;"),he=n("7a+J"),ye=Object(f.a)("div",{target:"ekcu0xv0"})(fe.a.layer1,he.a.level1,{position:"absolute",right:"10px",bottom:"10px",fontSize:"12px",lineHeight:"33px",userSelect:"none"},(function(e){return{transition:"transform .6s",transform:"translateX("+(e.isShow?0:200)+"%)"}}),"label:Container;"),Ee=Object(f.a)("span",{target:"ekcu0xv1"})({margin:"0 5px 0 12px",color:E.a.grey(6)},"label:Tips;"),ke=Object(f.a)("button",{target:"ekcu0xv2"})({border:"none",outline:"none",position:"relative",background:"transparent",color:E.a.grey(5),transition:"color .3s, background .3s",cursor:"pointer","&:hover":{color:E.a.grey(7)},"&:not(:first-of-type)::before":{content:'""',position:"absolute",top:"50%",left:"0px",transform:"translate(-50%, -50%)",width:"1px",height:"10px",background:E.a.grey(2)}},"label:Button;"),we=Object(c.memo)((function(){var e=Object(a.__read)(Object(r.a)(d.c),2),t=e[0],n=e[1];return o.a.createElement(ye,{isShow:t.isShowLocalDraftTips},o.a.createElement(Ee,null,"\u5f53\u524d\u5185\u5bb9\u5df2\u4ece\u60a8\u7684\u672c\u5730\u4fdd\u5b58\u4e2d\u6062\u590d"),o.a.createElement(ke,{onClick:n.resetEditor},"\u6e05\u7a7a"),o.a.createElement(ke,{onClick:n.hideLocalDraftTips},"\u5173\u95ed"))})),Ce=n("lXyA"),_e=n.n(Ce)()((function(){var e=document.createElement("div");return e.classList.add("discuss-discussion-editor-container"),document.body.appendChild(e),e})),Se={left:10,right:10};function ze(){var e=Object(a.__read)(Object(r.a)(d.c),2),t=e[0],n=e[1],i=Object(c.useRef)(null),f=Object(b.g)(i),p=t.isSubmitting||t.isRestoring;Object(c.useEffect)((function(){p&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),[p]);var m=Object(c.useRef)(null),g=Object(c.useMemo)((function(){return{portalContainerRef:m}}),[m]);if(Object(u.a)(t.isFullscreen,m),Object(c.useEffect)((function(){return n.hideEditor}),[n]),!t.isShow)return null;var j=o.a.createElement(o.a.Fragment,null,o.a.createElement(oe,{replyToAuthorName:t.replyToAuthorName,onTriggerShortcut:f}),o.a.createElement(je,null,o.a.createElement(Oe,{minSize:360},o.a.createElement(le,{ref:i})),o.a.createElement(xe,{size:1,expandInteractiveArea:Se}),o.a.createElement(Oe,{minSize:360},o.a.createElement(ve,null,t.content))),o.a.createElement(we,null));return t.isFullscreen?l.a.createPortal(o.a.createElement(s.b.Provider,{value:g},o.a.createElement(ge,{ref:m,isPending:p},j)),_e()):o.a.createElement(s.b.Provider,{value:g},o.a.createElement(pe,{ref:m,isPending:p,isFullscreen:t.isFullscreen,isShow:t.isShow},j))}}}]);