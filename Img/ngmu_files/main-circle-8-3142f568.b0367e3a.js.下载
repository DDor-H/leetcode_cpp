(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[18],{"3xQV":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("D57K"),o=n("nnm9"),i=n.n(o),a=n("ERkP"),u=n("WWwk"),c=n("/a1N"),l=Object(a.createContext)(i.a);function d(e,t){var n=this,o=Object(r.__read)(Object(a.useState)(null),2),i=o[0],d=o[1],s=Object(a.useContext)(l);return Object(u.a)((function(){var o;if(e.current)return Object(c.a)().subscribe((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return s(),[4,loadTM()];case 1:return n=r.sent(),(null===t||void 0===t?void 0:t.theme)?[4,n.defineTheme(monaco,null===t||void 0===t?void 0:t.theme)]:[3,3];case 2:r.sent(),r.label=3;case 3:return e.current&&(o=monaco.editor.create(e.current,t),n.injectCSS(),d(o)),[2]}}))}))})),function(){o&&o.dispose()}}),[t,s]),i}},"7HXm":function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=e.getModel();return t&&n?new monaco.Selection(t.startLineNumber,0,t.endLineNumber,n?n.getLineMaxColumn(t.endLineNumber):0):null}n.d(t,"a",(function(){return r}))},"7XlA":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7HXm");function o(e){var t,n,o,i,a=e.editor,u=e.content,c=e.getUserSelection,l=a.getModel(),d=Object(r.a)(a);if(d&&l){var s=u.replace(/([^\n])$/,"$1\n"),p=function(e){if(e.model.getValueInRange(e.currentLineSelection)){var t=e.currentLineSelection.endLineNumber+1;return new monaco.Selection(t,0,t,0)}return e.currentLineSelection}({model:l,currentLineSelection:d}),f=(n=(t={insertedText:s,editSelection:p}).insertedText.trim().split("\n"),o=t.editSelection.startLineNumber+n.length-1,i=n[n.length-1].length+1,new monaco.Selection(t.editSelection.startLineNumber,0,o,i)),m=c?c(f):f;a.pushUndoStop(),a.executeEdits("",[{range:p,text:s}],[m]),a.pushUndoStop()}}},"9Wbc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("lXyA"),o=n.n(r)()((function(){var e=document.createElement("input");return e.type="file",e.classList.add("open-file-dialog"),e.style.position="fixed",e.style.bottom="-100px",document.body.appendChild(e),e}));function i(e){var t=e.accepts,n=e.onSelectFiles,r=o();r.accept=t.join(","),r.onchange=function(){r.files&&n(Array.from(r.files)),r.value=""},r.click()}},Bd1j:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("yO5n");function o(e){var t=e.editor,n=e.content,o=e.getUserSelection,i=t.getModel(),a=t.getSelection();if(i&&a){var u=i.getValueInRange(a),c=Object(r.a)({convertedText:n,selectedText:u,selectedRange:a}),l=o?o(c):c;t.pushUndoStop(),t.executeEdits("",[{range:a,text:n}],[l]),t.pushUndoStop()}}},Bxa6:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return j}));var r,o=n("D57K"),i=n("5Nzd"),a=n("uZih"),u=n.n(a),c=n("OLKa"),l=n.n(c),d=n("aJyk"),s=n("ERkP"),p=n.n(s),f=n("7nmT"),m=n.n(f),b=n("pN2L"),g=n("IMYO"),v=n("l8fx"),_=n("TLco"),O=n("tUzc"),E=n("TMWK"),S=Object(E.a)("div",{target:"e19soyuz0"})((function(e){var t=e.customStyle;return Object(o.__assign)({},t)}),"label:Container;"),h=Object(E.a)("input",{target:"e19soyuz1"})({display:"none"},"label:InvisibleInput;");!function(e){e.invalidFileSize="invalid file size",e.invalidFileType="invalid file type"}(r||(r={}));var j=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isDraggingOver:!1,isMounted:!1},n.invisibleInputRef=p.a.createRef(),n.uploadedCount=0,n.uploadingCount=0,n.abortController=new AbortController,n.isValidFile=function(e){return!!e&&n.isValidFileType(e)&&n.isValidFileSize(e)},n.beforeUpload=function(e){return"number"===typeof n.props.maxFileCount?n.uploadingCount+n.uploadedCount<n.props.maxFileCount?(n.uploadingCount+=1,e):null:(n.uploadingCount+=1,e)},n.afterUpload=function(e){return e.then((function(e){null===e.error&&(n.uploadedCount+=1)})).finally((function(){n.uploadingCount-=1})),e},n.isValidFileSize=function(e){return!!t.isValidFileSize(e,n.props.maxFileSize)||(n.onUploadError(r.invalidFileSize,e),!1)},n.isValidFileType=function(e){return!!t.isValidFileType(e,n.props.accepts)||(n.onUploadError(r.invalidFileType,e),!1)},n.onUploadError=function(e,t){n.props.onUploadError&&n.props.onUploadError(e,t)},n.onSelectFile=function(e){var t=e.currentTarget.files;t&&n.uploadAndTriggerUploadCallback(Array.from(t).filter(n.isValidFile))},n.onDrop=function(e){e.preventDefault(),"function"===typeof n.props.onDrop&&n.props.onDrop(e),n.uploadAndTriggerUploadCallback(t.getFilesOnDrop(e).filter(n.isValidFile))},n.onDragOver=function(e){e.preventDefault()},n.onDragEnter=function(){n.state.isDraggingOver||n.setState({isDraggingOver:!0})},n.onDragLeave=function(){n.state.isDraggingOver&&n.setState({isDraggingOver:!1})},n}return Object(o.__extends)(t,e),t.getFileFromURL=function(e,t){var n=void 0===t?{}:t,r=n.fileName,o=n.abortSignal;return fetch(e,{signal:o}).then((function(e){return e.blob()})).then((function(e){return new File([e],r||"file_"+Date.now(),{type:e.type})})).catch((function(){return null}))},t.getFilesOnPaste=function(e){return t.getFilesFromDataTransfer(e.clipboardData)},t.getFilesOnDrop=function(e){return t.getFilesFromDataTransfer(e.dataTransfer)},t.uploadSingleFile=function(e,n){return Object(o.__awaiter)(this,void 0,Promise,(function(){var r,i,a;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,t.getUploadSignature(e,n)];case 1:return r=o.sent(),[4,t.uploadFileToOSS(r,e,n)];case 2:return i=o.sent(),[2,{file:e,error:200===i.status?null:new Error('upload "'+e.name+'" failed, response code '+i.status),url:r.cdnUrl}];case 3:return a=o.sent(),[2,{file:e,error:a,url:""}];case 4:return[2]}}))}))},t.uploadFileByURL=function(e){return i.b.getInstance(v.a).post("https://oss.leetcode-cn.com/upload-by-url",{data:{url:e}}).pipe(Object(g.a)((function(){return Object(b.a)({cdnUrl:null})})))},t.isValidFileSize=function(e,t){return"number"!==typeof t||e.size<=t},t.isValidFileType=function(e,t){if(t){var n=e.type||Object(d.lookup)(e.name);return!!n&&t.some((function(e){return l()(n,e)}))}return!0},t.getFilesFromDataTransfer=function(e){return e?e.items?Array.from(e.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()})).filter((function(e){return null!==e})):Array.from(e.files).filter((function(e){return null!==e})):[]},t.uploadFileToOSS=function(e,t,n){return Object(o.__awaiter)(this,void 0,Promise,(function(){return Object(o.__generator)(this,(function(r){return[2,Object(_.a)(e.uploadUrl,{method:"PUT",headers:{"content-type":t.type},body:t,signal:n})]}))}))},t.getUploadSignature=function(e,t){return Object(_.a)("https://oss.leetcode-cn.com/signature",{method:"POST",body:JSON.stringify({method:"PUT",resource:e.name,contentType:e.type}),signal:t,credentials:"include"}).then((function(t){if(200===t.status)return t.data;throw new Error('fetch upload signature for "'+e.name+'" is failed. response code '+t.status)}))},Object.defineProperty(t.prototype,"containerProps",{get:function(){return u()(this.props,"accepts","maxFileSize","maxFileCount","onUpload","onUploadError")},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props.accepts?this.props.accepts.join(","):"";return p.a.createElement(p.a.Fragment,null,p.a.createElement(S,Object(o.__assign)({},this.containerProps,{"data-is-dragging-over":this.state.isDraggingOver,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave})),this.state.isMounted&&m.a.createPortal(p.a.createElement(h,{value:"",type:"file",accept:e,ref:this.invisibleInputRef,onChange:this.onSelectFile}),window.document.body))},t.prototype.componentDidMount=function(){this.setState({isMounted:!0})},t.prototype.componentWillUnmount=function(){this.abortController.abort()},t.prototype.openFileDialog=function(){this.invisibleInputRef.current&&this.invisibleInputRef.current.click()},t.prototype.upload=function(e){var n=this;return e.map(this.beforeUpload).filter(this.isValidFile).map((function(e){var r=Object(O.a)(e);return t.uploadSingleFile(r,n.abortController.signal)})).map(this.afterUpload)},t.prototype.uploadAndTriggerUploadCallback=function(e){var t=this.upload(e);t.length>0&&"function"===typeof this.props.onUpload&&this.props.onUpload(t)},t}(p.a.PureComponent)},ClDh:function(e,t,n){"use strict";function r(e,t){return"number"!==typeof t||e.size<=t}n.d(t,"a",(function(){return r}))},DsCi:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={};n.r(r),n.d(r,"Heading1",(function(){return b})),n.d(r,"Heading2",(function(){return g})),n.d(r,"Heading3",(function(){return v})),n.d(r,"Heading4",(function(){return _})),n.d(r,"Heading5",(function(){return O})),n.d(r,"Heading6",(function(){return E})),n.d(r,"HeadingPrev",(function(){return h})),n.d(r,"HeadingNext",(function(){return j})),n.d(r,"Emphasis",(function(){return x})),n.d(r,"StrongEmphasis",(function(){return T})),n.d(r,"BulletList",(function(){return D})),n.d(r,"OrderedList",(function(){return A})),n.d(r,"ListAutoComplete",(function(){return P})),n.d(r,"GroupedCodeFence",(function(){return K})),n.d(r,"CodeFence",(function(){return Y})),n.d(r,"CodeSpan",(function(){return B})),n.d(r,"Link",(function(){return H})),n.d(r,"MentionUser",(function(){return ft})),n.d(r,"UploadVideo",(function(){return $t}));var o=n("D57K"),i=n("2srY"),a=n.n(i),u=n("GCqd"),c=n("nsrM");function l(e){return Object(o.__assign)(Object(o.__assign)({contextMenuGroupId:c.a},e),{id:c.a+"_"+e.id})}function d(e){var t=e.getSelection(),n=e.getModel();return t&&n?new monaco.Selection(t.startLineNumber,0,t.startLineNumber,n.getLineMaxColumn(t.startLineNumber)):null}var s,p=n("yO5n"),f=function(e){return function(t){return y(t)===e?C(t):k(e,t)}},m=function(e,t){return Object(o.__assign)(Object(o.__assign)({},l({id:"heading-"+e,label:"Heading "+e})),{keybindings:[t],run:U(f(e))})},b=m(1,u.b.CtrlCmd|u.a.KEY_1),g=m(2,u.b.CtrlCmd|u.a.KEY_2),v=m(3,u.b.CtrlCmd|u.a.KEY_3),_=m(4,u.b.CtrlCmd|u.a.KEY_4),O=m(5,u.b.CtrlCmd|u.a.KEY_5),E=m(6,u.b.CtrlCmd|u.a.KEY_6);!function(e){e[e.Prev=-1]="Prev",e[e.Next=1]="Next"}(s||(s={}));var S=function(e,t){return Object(o.__assign)(Object(o.__assign)({},l({id:"heading-"+e,label:"Heading "+e})),{keybindings:[t],run:U((n=s[e],function(e){return k(function(e,t){var n=e+t;switch(!0){case n<0:return 6;case n>6:return 0;default:return n}}(y(e),n),e)}))});var n},h=S("Prev",u.b.CtrlCmd|u.a.US_MINUS),j=S("Next",u.b.CtrlCmd|u.a.US_EQUAL);function k(e,t){return"#".repeat(e)+" "+C(t)}function C(e){return e.replace(/^#* /,"")}function y(e){var t=(/(^#*) /.exec(e)||[])[1];return t?t.length:0}function U(e){return function(t){var n=d(t),r=t.getModel();if(n&&r){var o=r.getValueInRange(n),i=e(o||"\u6807\u9898"),u=Object(p.a)({selectedText:o,selectedRange:n,convertedText:i}),c=a()(/(^#* )/.exec(i),"1","").length,l=u.setStartPosition(u.startLineNumber,c+1);t.pushUndoStop(),t.executeEdits("",[{range:n,text:i}],[l]),t.pushUndoStop()}}}var x=Object(o.__assign)(Object(o.__assign)({},l({id:"emphasis",label:"Emphasis"})),{keybindings:[u.b.CtrlCmd|u.a.KEY_I],run:function(e){var t=e.getModel(),n=e.getSelection();if(t&&n){var r=function(e,t){var n,r;return(/^[*_]{2}.*[*_]{2}$/.test(e)?/^[*_]{3}.*[*_]{3}$/.test(e):/^[*_].*[*_]$/.test(e))?{convertedText:n=e.replace(/^[*_](.*)[*_]$/,"$1"),nextSelection:r=Object(p.a)({convertedText:n,selectedText:e,selectedRange:t})}:{convertedText:n="*"+(e||"\u659c\u4f53")+"*",nextSelection:(r=Object(p.a)({convertedText:n,selectedText:e,selectedRange:t})).setStartPosition(r.startLineNumber,r.startColumn+1).setEndPosition(r.endLineNumber,r.endColumn-1)}}(t.getValueInRange(n),n),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:n,text:o}],[i]),e.pushUndoStop()}}});var T=Object(o.__assign)(Object(o.__assign)({},l({id:"strong-emphasis",label:"Strong Emphasis"})),{keybindings:[u.b.CtrlCmd|u.a.KEY_B],run:function(e){var t=e.getModel(),n=e.getSelection();if(t&&n){var r=function(e,t){var n,r;return/^(\*{3}|_{3}).*(\*{3}|_{3})$/.test(e)||/^(\*{2}|_{2}).*(\*{2}|_{2})$/.test(e)?/^_/.test(e)?{convertedText:n=e.replace(/^_{2}(.*)_{2}$/,"$1"),nextSelection:r=Object(p.a)({convertedText:n,selectedText:e,selectedRange:t})}:{convertedText:n=e.replace(/^\*{2}(.*)\*{2}$/,"$1"),nextSelection:r=Object(p.a)({convertedText:n,selectedText:e,selectedRange:t})}:{convertedText:n="**"+(e||"\u7c97\u4f53")+"**",nextSelection:(r=Object(p.a)({convertedText:n,selectedText:e,selectedRange:t})).setStartPosition(r.startLineNumber,r.startColumn+2).setEndPosition(r.endLineNumber,r.endColumn-2)}}(t.getValueInRange(n),n),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:n,text:o}],[i]),e.pushUndoStop()}}});var N=/^(\s*)([*\-+:])\s/,L=/^(\s*)(\d+\.)\s/,D=Object(o.__assign)(Object(o.__assign)({},l({id:"bullet-list",label:"Bullet List"})),{keybindings:[u.b.CtrlCmd|u.a.KEY_U],run:function(e){var t=d(e),n=e.getModel();if(t&&n){var r=function(e,t){return N.test(e)?n(e.replace(N,"$1")):L.test(e)?n(e.replace(L,"$1- ")):n(e.replace(/^([\s]*)(.*)/,"$1- $2"));function n(n){return{convertedText:n,nextSelection:I(n,Object(p.a)({convertedText:n,selectedText:e,selectedRange:t}))}}}(n.getValueInRange(t),t),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:t,text:o}],[i]),e.pushUndoStop()}}}),A=Object(o.__assign)(Object(o.__assign)({},l({id:"ordered-list",label:"Ordered List"})),{keybindings:[u.b.CtrlCmd|u.a.KEY_O],run:function(e){var t=d(e),n=e.getModel();if(t&&n){var r=function(e,t){return L.test(e)?n(e.replace(L,"$1")):N.test(e)?n(e.replace(N,"$11. ")):n(e.replace(/^([\s]*)(.*)/,"$11. $2"));function n(n){return{convertedText:n,nextSelection:I(n,Object(p.a)({convertedText:n,selectedText:e,selectedRange:t}))}}}(n.getValueInRange(t),t),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:t,text:o}],[i]),e.pushUndoStop()}}});function I(e,t){var n=a()(/^\s*([*\-+:]|\d+\.)?\s/.exec(e),"0","").length+1;return t.setStartPosition(t.startLineNumber,n)}var F=n("7HXm"),M={next:function(e){var t=e.getSelection();if(t){var n=t.startLineNumber+1,r=new monaco.Selection(n,0,n,0);return e.pushUndoStop(),e.executeEdits("",[{range:t,text:"\n"}],[r]),e.pushUndoStop(),!0}return!1},bulletList:function(e){var t=e.getModel(),n=e.getSelection(),r=Object(F.a)(e);if(t&&n&&r){var o=t.getValueInRange(r),i=/^(\s*[*\-+:])\s$/.test(o),a=/^(\s*[*\-+:])\s/.exec(o);if(i){var u=r.startLineNumber,c=new monaco.Selection(u,0,u,0);return e.pushUndoStop(),e.executeEdits("",[{range:r,text:""}],[c]),e.pushUndoStop(),!0}if(a){var l=a[1]+" ",d=n.startLineNumber+1,s=l.length+1;c=new monaco.Selection(d,s,d,s);return e.pushUndoStop(),e.executeEdits("",[{range:n,text:"\n"+l}],[c]),e.pushUndoStop(),!0}return!1}return!1},orderedList:function(e){var t=e.getModel(),n=e.getSelection(),r=Object(F.a)(e);if(t&&n&&r){var o=t.getValueInRange(r),i=/^(\s*\d+\.)\s$/.test(o),a=/^(\s*)(\d+)\.\s/.exec(o);if(i){var u=r.startLineNumber,c=new monaco.Selection(u,0,u,0);return e.pushUndoStop(),e.executeEdits("",[{range:r,text:""}],[c]),e.pushUndoStop(),!0}if(a){var l=""+a[1]+(Number.parseInt(a[2])+1)+". ",d=n.startLineNumber+1,s=l.length+1;c=new monaco.Selection(d,s,d,s);return e.pushUndoStop(),e.executeEdits("",[{range:n,text:"\n"+l}],[c]),e.pushUndoStop(),!0}return!1}return!1}},R=[M.bulletList,M.orderedList,M.next];function P(e){e.addCommand(u.a.Enter,(function(){var t,n,r=e.getModel(),i=Object(F.a)(e);if(r&&i)try{for(var a=Object(o.__values)(R),u=a.next();!u.done;u=a.next()){if((0,u.value)(e))return}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}))}var w=n("7XlA"),K=Object(o.__assign)(Object(o.__assign)({},l({id:"Insert-Grouped-Code-Fence",label:"Insert Grouped Code Fence"})),{run:function(e){var t="console.log('Hello world!')";Object(w.a)({editor:e,content:["```javascript []\n"+t+"\n```","```python []\nprint('Hello world!')\n```","```ruby []\nputs 'Hello world!'\n```"].join("\n"),getUserSelection:function(e){return e.setStartPosition(e.startLineNumber+1,0).setEndPosition(e.startLineNumber+1,t.length+1)}})}}),Y=Object(o.__assign)(Object(o.__assign)({},l({id:"Insert-Code-Fence",label:"Insert Code Fence"})),{keybindings:[u.b.CtrlCmd|u.b.Alt|u.a.KEY_C],run:function(e){var t=e.getModel(),n=e.getSelection();if(t&&n){var r=t.getValueInRange(n)||"\u4ee3\u7801\u5757",o=r.split("\n").pop().length+1;Object(w.a)({editor:e,content:["```",r,"```"].join("\n"),getUserSelection:function(e){return e.setStartPosition(e.startLineNumber+1,0).setEndPosition(e.endLineNumber-1,o)}})}}}),B=Object(o.__assign)(Object(o.__assign)({},l({id:"code-spans",label:"Code Span"})),{keybindings:[u.b.WinCtrl|u.a.US_BACKTICK],run:function(e){var t=e.getModel(),n=e.getSelection();if(t&&n){var r=function(e,t){var n,r;return/^`.*`$/.test(e)?{convertedText:n=e.replace(/^`(.*)`$/,"$1"),nextSelection:r=Object(p.a)({convertedText:n,selectedText:e,selectedRange:t})}:{convertedText:n="`"+(e||"\u5185\u8054\u4ee3\u7801")+"`",nextSelection:(r=Object(p.a)({convertedText:n,selectedText:e,selectedRange:t})).setStartPosition(r.startLineNumber,r.startColumn+1).setEndPosition(r.endLineNumber,r.endColumn-1)}}(t.getValueInRange(n),n),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:n,text:o}],[i]),e.pushUndoStop()}}});var V=n("6Wgl"),z=n.n(V),H=Object(o.__assign)(Object(o.__assign)({},l({id:"insert-link",label:"Insert Link"})),{keybindings:[u.b.CtrlCmd|u.a.KEY_K],run:function(e){var t=e.getModel(),n=e.getSelection();if(t&&n){var r=t.getValueInRange(n),o=z()(r)?r:"",i="["+r+"]("+o+")",a=Object(p.a)({convertedText:i,selectedText:r,selectedRange:n}),u=a.setStartPosition(a.startLineNumber,a.startColumn+1).setEndPosition(a.endLineNumber,a.endColumn-(o.length+3));e.pushUndoStop(),e.executeEdits("",[{range:n,text:i}],[u]),e.pushUndoStop()}}}),$=n("ERkP"),W=n.n($),Q=n("7nmT"),q=n.n(Q);var G=n("Bd1j"),J=n("KNJy"),X=n("Hxrh"),Z=n("z0YO");var ee,te,ne,re,oe,ie=n("XKjd"),ae=n("TMWK"),ue=n("fgAA"),ce=n("7a+J"),le=Object(ae.a)("div",{target:"etkc3bo0"})({display:"flex",flexDirection:"column"},"label:MentionWrapper;"),de=Object(ie.a)({width:"246px"}),se=Object(ae.a)("div",{target:"etkc3bo1"})(ce.a.dropdown,((ee={background:ue.a.grey(0),borderRadius:"8px",marginTop:"8px"})[ue.c]={background:ue.a.grey(3),border:"1px solid "+ue.a.grey(4)},ee),"label:MentionPanel;"),pe=Object(ie.a)({background:ue.b.FillQuaternary()}),fe=Object(ie.a)({'div[class*="TabHeaderRow"]':{paddingBottom:"8px","::after":{width:"28px",height:"2px"}}}),me=n("K/af"),be=n("lKcY"),ge=Object(ae.a)("div",{target:"eigg9u70"})({overflow:"auto",maxHeight:"320px",marginTop:"8px",padding:"4px"},"label:TabContainer;"),ve=n("5Nzd"),_e=n("u3dr"),Oe=n("2wT7"),Ee=n("9EWH"),Se=n("3dHC"),he=n.n(Se),je=n("HnWI"),ke=n("R+ki"),Ce=n("AouM"),ye=n("Jg5f"),Ue=n("W/Ou"),xe=n("RtDN"),Te=n("B07F"),Ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"usersForMention"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"usernamePrefix"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"usernamePrefix"},value:{kind:"Variable",name:{kind:"Name",value:"usernamePrefix"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userAvatar"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query usersForMention($usernamePrefix: String!) {\n  users(usernamePrefix: $usernamePrefix) {\n    username\n    profile {\n      realName\n      userSlug\n      userAvatar\n    }\n  }\n}\n"}},operationName:"usersForMention",defName:"users"},Le=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={users:void 0,loading:!1},n}var n,r,i,a,u;return Object(o.__extends)(t,e),t.prototype.setUsers=function(e,t){e.users=t},t.prototype.setLoading=function(e,t){e.loading=t},t.prototype.searchUsers=function(e){var t=this;return e.pipe(Object(ke.a)(500),Object(Ce.a)((function(e){return t.client.query({query:Ne,variables:{usernamePrefix:e},fetchPolicy:"network-only"}).pipe(Object(ye.a)((function(e){var n=e.data;return t.getActions().setUsers(he()(n.users))})),Object(Ue.a)(t.getActions().setLoading(!0)),Object(xe.a)(t.getActions().setLoading(!1)))})))},Object(o.__decorate)([Object(_e.c)(),Object(o.__metadata)("design:type",Function),Object(o.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof Ee.Draft&&Ee.Draft)?n:Object,Array]),Object(o.__metadata)("design:returntype",void 0)],t.prototype,"setUsers",null),Object(o.__decorate)([Object(_e.c)(),Object(o.__metadata)("design:type",Function),Object(o.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof Ee.Draft&&Ee.Draft)?r:Object,Boolean]),Object(o.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(o.__decorate)([Object(_e.b)(),Object(o.__metadata)("design:type",Function),Object(o.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof je.a&&je.a)?i:Object]),Object(o.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof je.a&&je.a)?a:Object)],t.prototype,"searchUsers",null),t=Object(o.__decorate)([Object(ve.a)(),Object(o.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof Te.a&&Te.a)?u:Object])],t)}(Oe.a),De=n("YnR9"),Ae=n("uhKY"),Ie=n("pqRN"),Fe=Object(ae.a)("div",{target:"evaqn0b0"})((function(e){var t,n=function(t){return e.url?"center/contain no-repeat url("+e.url+")":t?ue.a.grey(4):ue.a.grey(1)};return(t={background:n(!1),marginRight:"5px",width:"40px",height:"40px",borderRadius:"50%"})[ue.c]={background:n(!0)},t}),"label:Avatar;"),Me=Object(ae.a)("div",{target:"evaqn0b1"})({flex:"1 0 0",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},"label:RightPart;"),Re=Object(ae.a)("div",{target:"evaqn0b2"})(Object(o.__assign)(Object(o.__assign)({},Ie.l),{fontSize:"14px",lineHeight:"22px",color:ue.a.grey(9)}),"label:DisplayName;"),Pe=Object(ae.a)("div",{target:"evaqn0b3"})(Object(o.__assign)(Object(o.__assign)({},Ie.l),{fontSize:"12px",lineHeight:"18px",color:ue.a.grey(5),transition:"color .3s"}),"label:Username;"),we=Object(ae.a)("div",{target:"evaqn0b4"})({display:"flex",cursor:"pointer",padding:"10px",width:"242px",borderRadius:"5px","&:hover":(te={},te[""+Pe]={color:ue.a.grey(9)},te)},"label:MentionedUser;"),Ke=W.a.forwardRef((function(e,t){var n=e.user,r=e.onSelect,o=Object($.useCallback)((function(){r({insertedContent:"[@"+n.username+"]("+De.a.main.paths.publicProfile.home({userSlug:n.profile.userSlug})+")"})}),[r,n]);return W.a.createElement(we,{key:n.username,onClick:o,ref:t},W.a.createElement(Fe,{url:Object(Ae.b)(n.profile&&n.profile.userAvatar,40)}),W.a.createElement(Me,null,W.a.createElement(Re,null,n.profile&&n.profile.realName),W.a.createElement(Pe,null,n.username)))})),Ye=function(e){var t=e.keyword,n=e.onSelect,r=e.onFirstChildRendered,i=e.setHasUser,a=Object(o.__read)(Object(me.a)(Le,{scope:be.a}),2),u=a[0],c=u.users,l=u.loading,d=a[1].searchUsers;return W.a.useEffect((function(){d(t)}),[t,d]),W.a.useEffect((function(){!l&&c&&i(!!c.length)}),[c,i,l]),(null===c||void 0===c?void 0:c.length)?W.a.createElement(ge,null,c.map((function(e,t){return W.a.createElement(Ke,{key:e.username,user:e,onSelect:n,ref:0===t?r:null})}))):null},Be=n("ZRwv"),Ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"problemsetQuestionList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"QuestionListFilterInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"problemsetQuestionList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frontendQuestionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleCn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hasMore"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query problemsetQuestionList($skip: Int, $limit: Int, $filters: QuestionListFilterInput) {\n  problemsetQuestionList(skip: $skip, limit: $limit, filters: $filters) {\n    questions {\n      frontendQuestionId\n      title\n      titleCn\n      titleSlug\n      difficulty\n    }\n    hasMore\n  }\n}\n"}},operationName:"problemsetQuestionList",defName:"problemsetQuestionList"},ze=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={problems:void 0,loading:!1},n}var n,r,i,a,u;return Object(o.__extends)(t,e),t.prototype.setProblems=function(e,t){e.problems=t},t.prototype.setLoading=function(e,t){e.loading=t},t.prototype.searchProblems=function(e){var t=this;return e.pipe(Object(ke.a)(500),Object(Ce.a)((function(e){return t.client.query({query:Ve,variables:{filters:{searchKeywords:e,sortOrder:null,orderBy:null}},fetchPolicy:"network-only"}).pipe(Object(ye.a)((function(e){var n=e.data;return t.getActions().setProblems(he()(n.problemsetQuestionList.questions))})),Object(Ue.a)(t.getActions().setLoading(!0)),Object(xe.a)(t.getActions().setLoading(!1)))})))},Object(o.__decorate)([Object(_e.c)(),Object(o.__metadata)("design:type",Function),Object(o.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof Ee.Draft&&Ee.Draft)?n:Object,Array]),Object(o.__metadata)("design:returntype",void 0)],t.prototype,"setProblems",null),Object(o.__decorate)([Object(_e.c)(),Object(o.__metadata)("design:type",Function),Object(o.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof Ee.Draft&&Ee.Draft)?r:Object,Boolean]),Object(o.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(o.__decorate)([Object(_e.b)(),Object(o.__metadata)("design:type",Function),Object(o.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof je.a&&je.a)?i:Object]),Object(o.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof je.a&&je.a)?a:Object)],t.prototype,"searchProblems",null),t=Object(o.__decorate)([Object(ve.a)(),Object(o.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof Te.a&&Te.a)?u:Object])],t)}(Oe.a),He=n("sYqU"),$e=n("34li"),We=n("f7k3"),Qe=n("CkJS"),qe=Object(ae.a)("div",{target:"exhj0ko0"})({display:"flex",flexDirection:"column",cursor:"pointer",padding:"10px",width:"242px",borderRadius:"5px"},"label:MentionedProblem;"),Ge={display:"flex",justifyContent:"space-between"},Je=Object(ae.a)("div",{target:"exhj0ko1"})(Ge,"label:Top;"),Xe=Object(ae.a)("span",{target:"exhj0ko2"})(Qe.a.paragraph.md,Ie.l,{color:ue.b.LabelPrimary(),marginRight:"6px"},"label:Title;"),Ze=((ne={})[$e.R.Easy]=ue.b.DifficultyEasy(),ne[$e.R.Medium]=ue.b.DifficultyMedium(),ne[$e.R.Hard]=ue.b.DifficultyHard(),ne),et=Object(ae.a)("span",{target:"exhj0ko3"})((function(e){var t=e.difficulty;return{fontSize:"12px",color:Ze[t],flexShrink:0}}),"label:Difficulty;"),tt=Object(ae.a)("div",{target:"exhj0ko4"})(Ge,{marginTop:"2px"},"label:Bottom;"),nt=Object(We.b)(Qe.a.paragraph.sm,{color:ue.b.LabelQuaternary()},"label:text;"),rt=Object(ae.a)("span",{target:"exhj0ko5"})(nt,Ie.l,{marginRight:"6px"},"label:TitleEn;"),ot=Object(ae.a)("span",{target:"exhj0ko6"})(nt,{flexShrink:0},"label:Id;"),it=((re={})[$e.R.Easy]="\u7b80\u5355",re[$e.R.Medium]="\u4e2d\u7b49",re[$e.R.Hard]="\u56f0\u96be",re),at=W.a.forwardRef((function(e,t){var n=e.problem,r=e.onSelect,i=e.shouldUseTranslation,a=n.titleCn||n.title,u=n.title||n.titleCn,c=Object(o.__read)(i?[a,u]:[u,a],2),l=c[0],d=c[1],s=Object($.useCallback)((function(){r({insertedContent:"["+n.frontendQuestionId+". "+a+"]("+He.Z.questionDetail(n.titleSlug)+")"})}),[r,a,n]);return W.a.createElement(qe,{onClick:s,ref:t},W.a.createElement(Je,null,W.a.createElement(Xe,null,l),W.a.createElement(et,{difficulty:n.difficulty},it[n.difficulty])),W.a.createElement(tt,null,W.a.createElement(rt,null,d),W.a.createElement(ot,null,"# ",n.frontendQuestionId)))})),ut=function(e){var t=e.keyword,n=e.onSelect,r=e.onFirstChildRendered,i=e.setHasProblem,a=Object(o.__read)(Object(me.a)(ze,{scope:be.a}),2),u=a[0],c=u.problems,l=u.loading,d=a[1].searchProblems,s=Object(o.__read)(Object(me.a)(Be.a),1)[0].globalData;return W.a.useEffect((function(){d(t)}),[t,d]),W.a.useEffect((function(){!l&&c&&i(!!c.length)}),[c,i,l]),(null===c||void 0===c?void 0:c.length)?W.a.createElement(ge,null,c.map((function(e,t){var o;return W.a.createElement(at,{key:e.titleSlug,problem:e,onSelect:n,ref:0===t?r:null,shouldUseTranslation:null===(o=null===s||void 0===s?void 0:s.userStatus)||void 0===o?void 0:o.useTranslation})}))):null};!function(e){e.User="user",e.Problem="problem"}(oe||(oe={}));var ct=Object($.memo)((function(e){var t=e.onBlur,n=e.onSelect,r=function(){var e=Object($.useRef)(null);return Object($.useEffect)((function(){setTimeout((function(){e.current&&e.current.focus()}),100)}),[]),e}(),i=W.a.useRef(null),a=document.body.classList.contains("dark")?"darkSide":"light",u=Object(o.__read)(W.a.useState(""),2),c=u[0],l=u[1],d=Object(o.__read)(W.a.useState(oe.User),2),s=d[0],p=d[1],f=Object(o.__read)(W.a.useState(null),2),m=f[0],b=f[1],g=Object(o.__read)(W.a.useState(void 0),2),v=g[0],_=g[1],O=Object(o.__read)(W.a.useState(void 0),2),E=O[0],S=O[1];W.a.useEffect((function(){void 0===v||void 0===E||!v&&E&&p(oe.Problem)}),[v,E]),Object(J.a)(i,t);var h=W.a.useCallback((function(e){null===e||void 0===e||e.classList.remove(pe)}),[]),j=W.a.useCallback((function(e){null===e||void 0===e||e.scrollIntoView({block:"nearest"}),null===e||void 0===e||e.classList.add(pe)}),[]),k=W.a.useCallback((function(e){return function(t){s===e&&b((function(e){return h(e),j(t),t}))}}),[j,h,s]),C=W.a.useMemo((function(){return k(oe.User)}),[k]),y=W.a.useMemo((function(){return k(oe.Problem)}),[k]),U=W.a.useCallback((function(){m instanceof HTMLElement&&m.click()}),[m]),x=W.a.useCallback((function(){b((function(e){var t,n,r=null!==(t=null===e||void 0===e?void 0:e.previousElementSibling)&&void 0!==t?t:null===(n=null===e||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.lastElementChild;return h(e),j(r),r}))}),[j,h]),T=W.a.useCallback((function(){b((function(e){var t,n,r=null!==(t=null===e||void 0===e?void 0:e.nextElementSibling)&&void 0!==t?t:null===(n=null===e||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.firstElementChild;return null===e||void 0===e||e.classList.remove(pe),h(e),j(r),r}))}),[j,h]),N=W.a.useCallback((function(){var e=Object.values(oe),t=e.length,n=e.findIndex((function(e){return e===s}));p(e[(n+1)%t])}),[s]),L=function(e){var t=e.onEnter,n=e.onArrowDown,r=e.onArrowUp,o=e.onEscape,i=e.onTab,a=e.onBackSpace;return Object($.useCallback)((function(e){var u=e.key,c=e.keyCode;switch(!0){case"Enter"===u:case 13===c:return void t();case"ArrowDown"===u:case 40===c:return e.preventDefault(),void n();case"ArrowUp"===u:case 38===c:return e.preventDefault(),void r();case"Escape"===u:case 27===c:return e.preventDefault(),void o();case"Tab"===u:case 9===c:return void i();case"BackSpace"===u:case 8===c:return void a(e.currentTarget.value);default:return}}),[t,n,r,o,i,a])}({onEscape:t,onEnter:U,onArrowUp:x,onArrowDown:T,onTab:N,onBackSpace:function(e){e||t()}}),D=Object($.useCallback)((function(e){l(e.currentTarget.value)}),[]);return W.a.createElement(le,{ref:i},W.a.createElement(X.a,{inputRef:r,type:"text",sizeType:"xs",className:de,themeType:a,placeholder:"@ \u9898\u76ee\u6216\u7528\u6237",onKeyDown:L,onChange:D}),c&&W.a.createElement(se,null,W.a.createElement(Z.a,{type:"line",size:"md",className:fe,activeKey:s,onChange:p},W.a.createElement(Z.a.Tab,{key:oe.User,title:"\u7528\u6237"},W.a.createElement(Ye,{keyword:c,onSelect:n,onFirstChildRendered:C,setHasUser:_})),W.a.createElement(Z.a.Tab,{key:oe.Problem,title:"\u9898\u76ee"},W.a.createElement(ut,{keyword:c,onSelect:n,onFirstChildRendered:y,setHasProblem:S})))))})),lt=n("ildc");function dt(e){var t=e.editor,n=e.trigger,r=e.onTrigger,o=t.getPosition();t.onKeyDown((function(e){var i=t.getPosition();if(e.browserEvent.key===n){var a=t.getSelection(),u=t.getModel();a&&u&&(function(e,t){return!!t.isEmpty()&&(""===st(e,t).trim()&&""===pt(e,t).trim())}(u,a)||function(e,t,n,r){if(!Object(lt.p)())return!1;if((null===n||void 0===n?void 0:n.column)===(null===r||void 0===r?void 0:r.column))return!1;return!!t.isEmpty()&&("@"===st(e,t)&&""===pt(e,t).trim())}(u,a,o,i))&&r()}o=i}))}function st(e,t){var n=new monaco.Selection(t.startLineNumber,t.startColumn-1,t.startLineNumber,t.startColumn);return e.getValueInRange(n)}function pt(e,t){var n=new monaco.Selection(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+1);return e.getValueInRange(n)}function ft(e){var t=e.createContextKey("mentionActive",!1);e.addCommand(monaco.KeyCode.Enter,(function(){}),"mentionActive"),e.addCommand(monaco.KeyCode.Tab,(function(){}),"mentionActive");var n=function(){!function(e){var t=e.id,n=e.editor,r=e.Component,i={refreshSelf:function(){n.layoutContentWidget(a)},destroySelf:function(){a.domNode&&q.a.unmountComponentAtNode(a.domNode),n.removeContentWidget(a)}},a={domNode:null,getId:function(){return t},getDomNode:function(){return this.domNode||(this.domNode=document.createElement("div"),q.a.render(W.a.createElement(r,Object(o.__assign)({},i)),this.domNode)),this.domNode},getPosition:function(){return{position:n.getPosition(),preference:[monaco.editor.ContentWidgetPositionPreference.BELOW]}}};n.addContentWidget(a)}({editor:e,id:ft.id,Component:function(n){var r=n.destroySelf;t.set(!0);var o=Object($.useCallback)((function(){r(),t.set(!1),e.focus()}),[r]),i=Object($.useCallback)((function(t){var n=t.insertedContent;!function(e){var t=e.getPosition();if(t){var n=null===t||void 0===t?void 0:t.lineNumber,r=(null===t||void 0===t?void 0:t.column)-1,o=null===t||void 0===t?void 0:t.lineNumber,i=null===t||void 0===t?void 0:t.column,a=new monaco.Range(n,r,o,i);e.executeEdits("",[{range:a,text:null}])}}(e),Object(G.a)({editor:e,content:n,getUserSelection:function(e){return e.setStartPosition(e.endLineNumber,e.endColumn)}}),o()}),[o]);return W.a.createElement(ct,{onBlur:o,onSelect:i})}})};e.addAction({id:ft.id,label:ft.label,run:n}),dt({editor:e,trigger:"@",onTrigger:n})}ft.id="mention-user",ft.label="Mention User";var mt=n("lXyA"),bt=n.n(mt),gt=n("nnm9"),vt=n.n(gt),_t=n("fgzu"),Ot=n("YfUy"),Et=n("w0mW"),St=n.n(Et),ht=n("tUzc"),jt=n("5ZzG"),kt=n("9xBf"),Ct=n("vc+z"),yt=n("OqZx"),Ut=n("K5K8"),xt=n("xdqw");var Tt,Nt=n("HUAI"),Lt=Object(ae.a)(Nt.a,{target:"eiz5oet0"})({width:"390px",height:"190px",margin:"15px auto",'&:hover, &[data-is-dragging-over="true"]':{"> div":{borderColor:ue.b.BlueStandard()},svg:{color:ue.b.BlueStandard()},h2:{color:ue.b.BlueStandard()},p:{color:ue.b.Blue4()}}},"label:StyledUploader;"),Dt=Object(ae.a)("div",{target:"eiz5oet1"})({height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:ue.a.grey(1),border:"1px dashed "+ue.a.grey(6),borderRadius:"3px",userSelect:"none",cursor:"pointer"},"label:InteractiveArea;"),At=Object(ae.a)(jt.a,{target:"eiz5oet2"})({width:"60px",height:"60px",color:ue.a.grey(4),marginBottom:"10px"},"label:TitleIcon;"),It=Object(ae.a)("p",{target:"eiz5oet3"})({fontSize:"12px",color:ue.a.grey(5),margin:"0px"},"label:Description;"),Ft=Object(ae.a)("div",{target:"eiz5oet4"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"13px 5px"},"label:UploadingContainer;"),Mt=Object(ae.a)("h4",{target:"eiz5oet5"})({display:"flex",alignItems:"center",color:ue.a.grey(7),fontSize:"12px",svg:{width:"17px",height:"17px",marginRight:"8px"}},"label:UploadingTitle;"),Rt=Object(We.d)(Tt||(Tt=Object(o.__makeTemplateObject)(["\n  0% {\n    bottom: -800%;\n  }\n  \n  100% {\n    bottom: 0;\n  }\n"],["\n  0% {\n    bottom: -800%;\n  }\n  \n  100% {\n    bottom: 0;\n  }\n"]))),Pt=Object(ae.a)("div",{target:"eiz5oet6"})({width:"100%",height:"4px",borderRadius:"3px",margin:"12px auto",position:"relative",overflow:"hidden","&::after":{content:'""',position:"absolute",left:"0px",bottom:"0px",height:"900%",backgroundImage:"linear-gradient(4deg, "+ue.b.BlueStandard()+" 40%, "+ue.b.Blue3()+" 50%, "+ue.b.BlueStandard()+" 60%)",animation:"1s "+Rt+" linear infinite"}},(function(e){return{"&::after":{width:100*e.progress+"%"}}}),"label:UploadingProgressBar;"),wt=Object(ae.a)("p",{target:"eiz5oet7"})({fontSize:"12px",fontWeight:"bold",color:ue.b.BlueStandard(),margin:"0px"},"label:UploadingProgressTips;"),Kt=["video/mp4","video/webm","video/quicktime","video/mpeg","video/3gpp","video/x-m4v","video/x-flv","video/x-msvideo","video/x-ms-asf","video/x-ms-wmv","video/x-matroska","video/vnd.dlna.mpeg-tts"],Yt="\u6700\u591a\u4e0a\u4f20 5 \u4e2a\u89c6\u9891",Bt=function(e){var t=e.isShow,n=e.onClose,r=e.onUploaded,o=e.currentFileCount,i=Object(Ct.a)(r),a=i.handleOnUpload,u=i.isUploading,c=i.filename,l=i.uploadProgress,d=Object($.useMemo)((function(){return St()("upload-video-modal-uploader")}),[t,o]),s=Object(xt.b)("editor-upload-video").has("advanced")?2048:500,p=1024*s*1024,f="\u89c6\u9891\u6587\u4ef6\u4e0d\u53ef\u5927\u4e8e "+s+" MB",m=Object($.useCallback)((function(){u?_t.a.error("\u89c6\u9891\u4e0a\u4f20\u4e2d\uff0c\u65e0\u6cd5\u5173\u95ed"):n()}),[u,n]),b=Object($.useRef)(null),g=Object($.useCallback)((function(){b.current&&b.current.selectFileToUpload()}),[b]);return W.a.createElement(yt.a,{width:"450px",title:"\u4e0a\u4f20\u89c6\u9891",isActive:t,onClose:m},u&&W.a.createElement(Ft,null,W.a.createElement(Mt,null,W.a.createElement(jt.a,{type:"video"})," ",c),W.a.createElement(kt.a,{title:(100*l).toFixed(2)+"%"},W.a.createElement(Pt,{progress:l})),W.a.createElement(wt,null,"\u6b63\u5728\u4e0a\u4f20\u89c6\u9891\u2026")),!u&&W.a.createElement(Lt,{key:d,ref:b,accepts:Kt,acceptsErrorMsg:"\u4e0d\u652f\u6301\u6b64\u89c6\u9891\u683c\u5f0f",maxFileCount:5-o,maxFileCountErrorMsg:Yt,maxFileSize:p,maxFileSizeErrorMsg:f,onUpload:a,onClick:g,handleFileBeforeUpload:Vt,uploadFileMethod:Ut.a},W.a.createElement(Dt,null,W.a.createElement(At,{type:"publish"}),W.a.createElement(It,null,f+"\uff0c"+Yt),W.a.createElement(It,null,"\u89c6\u9891\u4e0a\u4f20\u540e\u4f1a\u7531\u5de5\u4f5c\u4eba\u5458\u8fdb\u884c\u5ba1\u6838"))))};function Vt(e){if(e.name.length>20){var t=Object(ht.b)(e.name.substring(e.name.length-20).trim());return new File([e],"..."+t,{type:e.type})}return e}var zt=bt()((function(){var e=document.createElement("div");return e.classList.add("upload-video-modal-container"),document.body.appendChild(e),e})),Ht={duration:5e3,closeable:!0},$t=Object(o.__assign)(Object(o.__assign)({},l({id:"upload-video",label:"Upload Video"})),{run:function(e){var t=function(e){return Object(Ot.a)(e.getValue())}(e);5-t>0?q.a.render(W.a.createElement(Bt,{isShow:!0,currentFileCount:t,onClose:Wt,onUploaded:function(t){t.forEach((function(t){var n=t.file,r=t.error,o=t.url;r?_t.a.error("\u89c6\u9891\u300c"+n.name+"\u300d\u4e0a\u4f20\u5931\u8d25\uff1a"+r,Ht):o?(function(e,t,n){Object(w.a)({editor:e,content:"!["+n+"]("+t+")"})}(e,o,n.name),_t.a.success("\u89c6\u9891\u300c"+n.name+"\u300d\u4e0a\u4f20\u6210\u529f\uff01")):_t.a.error("\u89c6\u9891\u300c"+n.name+"\u300d\u4e0a\u4f20\u5931\u8d25\uff01",Ht)})),Wt()}}),zt()):_t.a.error(Yt)}});function Wt(){q.a.render(W.a.createElement(Bt,{currentFileCount:5,isShow:!1,onClose:vt.a,onUploaded:vt.a}),zt())}},FMf8:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("5/dZ"),o=n("5Nzd"),i=n("xdqw"),a=Object(i.b)(),u={provide:new r.c("WebLocalStorage"),useValue:a};o.b.addProviders(u);var c=u},GCqd:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(r||(r={}));var o=function(){function e(){}return e.chord=function(e,t){return(e|(65535&t)<<16>>>0)>>>0},e.CtrlCmd=2048,e.Shift=1024,e.Alt=512,e.WinCtrl=256,e}()},HUAI:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("D57K"),o=n("3dHC"),i=n.n(o),a=n("ERkP"),u=n.n(a),c=n("3riI"),l=n("U3QC"),d=n("Jg5f");var s=Object(a.memo)((function(e){var t=Object(r.__read)(function(e){var t=Object(a.useRef)(0),n=Object(r.__read)(Object(a.useState)(!1),2),o=n[0],i=n[1],u=Object(a.useCallback)((function(){t.current=0,o&&i(!1)}),[t,i,o]),c=Object(a.useCallback)((function(t){t.preventDefault(),u(),e.onDrop&&e.onDrop(t)}),[e,u]),l=Object(a.useCallback)((function(t){t.preventDefault(),e.onDragOver&&e.onDragOver(t)}),[e]),d=Object(a.useCallback)((function(n){t.current+=1,t.current>0&&!o&&i(!0),e.onDragEnter&&e.onDragEnter(n)}),[t,i,o,e]),s=Object(a.useCallback)((function(n){t.current-=1,t.current<0&&o&&i(!1),e.onDragLeave&&e.onDragLeave(n)}),[t,i,o,e]);return[o,{onDrop:c,onDragOver:l,onDragEnter:d,onDragLeave:s}]}(e),2),n=t[0],o=t[1];return u.a.createElement("div",Object(r.__assign)({},e,o,{"data-is-dragging-over":n}))})),p=n("Zd/e"),f=n("fgzu"),m=n("ClDh"),b=n("OLKa"),g=n.n(b),v=n("aJyk");function _(e){e&&f.a.error(e)}function O(e){var t=Object(a.useRef)(0);return[Object(a.useCallback)((function(n){return window.navigator.onLine?Object(m.a)(n,e.maxFileSize)?function(e,t){if(t){var n=e.type||Object(v.lookup)(e.name);return!!n&&t.some((function(e){return g()(n,e)}))}return!0}(n,e.accepts)?!(t.current>=e.maxFileCount)||(_(e.maxFileCountErrorMsg),!1):(_(e.acceptsErrorMsg),!1):(_(e.maxFileSizeErrorMsg),!1):(_(e.networkErrorMsg),!1)}),[e,t]),Object(a.useCallback)((function(n){var r=t.current+n;return r<=e.maxFileCount&&r>=0&&(t.current=r,!0)}),[t])]}function E(e){return(t=e.dataTransfer)?t.items?Array.from(t.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()})).filter((function(e){return null!==e})):Array.from(t.files).filter((function(e){return null!==e})):[];var t}var S=n("9Wbc"),h=Object(a.memo)(Object(a.forwardRef)((function(e,t){var n=e.accepts,o=e.acceptsErrorMsg,f=e.maxFileSize,m=e.maxFileSizeErrorMsg,b=e.maxFileCount,g=e.maxFileCountErrorMsg,v=e.networkErrorMsg,_=e.onUpload,h=e.handleFileBeforeUpload,j=void 0===h?function(e){return e}:h,k=e.uploadFileMethod,C=void 0===k?p.a:k,y=e.bucket,U=e.prefix,x=e.cancelToken,T=Object(r.__rest)(e,["accepts","acceptsErrorMsg","maxFileSize","maxFileSizeErrorMsg","maxFileCount","maxFileCountErrorMsg","networkErrorMsg","onUpload","handleFileBeforeUpload","uploadFileMethod","bucket","prefix","cancelToken"]),N=Object(r.__read)(O({accepts:n,acceptsErrorMsg:o,maxFileSize:f,maxFileSizeErrorMsg:m,maxFileCount:b,maxFileCountErrorMsg:g,networkErrorMsg:v}),2),L=N[0],D=N[1],A=Object(a.useCallback)((function(e){var t=i()(Array.from(e).filter((function(e){return!!e&&(L(e)&&D(1))})).map(j)).map((function(e){return C({file:e,bucket:y,prefix:U,cancelToken:x}).pipe(Object(l.a)((function(e){var t=e.done,n=e.error;t&&n&&D(-1)})),Object(d.a)((function(t){return Object(r.__assign)(Object(r.__assign)({},t),{file:e})})))}));_(Object(c.b)(t))}),[_,L,C,y,x,U,j,D]),I=Object(a.useCallback)((function(e){return A(E(e))}),[A]),F=Object(a.useCallback)((function(){Object(S.a)({accepts:n,onSelectFiles:A})}),[n,A]);return u.a.useImperativeHandle(t,(function(){return{selectFileToUpload:F}}),[F]),u.a.createElement(s,Object(r.__assign)({},T,{onDrop:I}))})))},K5K8:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("fQLH"),o=n("LR82"),i=n("HnWI"),a=n("iJR/"),u=n("Jg5f"),c=n("tUzc"),l=n("D57K"),d=n("lXyA"),s=n.n(d),p=n("nnm9"),f=n.n(p),m="https://static.leetcode-cn.com/packages/aliyun-sdk/aliyun-oss-sdk-5.3.1.min.js",b="https://static.leetcode-cn.com/packages/aliyun-sdk/aliyun-upload-sdk-1.5.0.min.js",g=s()((function(){return Object(l.__awaiter)(void 0,void 0,void 0,(function(){return Object(l.__generator)(this,(function(e){switch(e.label){case 0:return[4,v(m,f.a)];case 1:return e.sent(),[2,v(b,(function(){return window.AliyunUpload}))]}}))}))}));function v(e,t){return new Promise((function(n,r){var o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=function(){return n(t())},o.onerror=r,document.head.appendChild(o)}))}var _=n("5Nzd"),O=n("B07F"),E=n("wUZp"),S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"videosGetUploadCredential"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VideosGetUploadCredentialInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videosGetUploadCredential"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"credential"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uploadAddress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uploadAuth"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"mutation videosGetUploadCredential($data: VideosGetUploadCredentialInput!) {\n  videosGetUploadCredential(data: $data) {\n    credential {\n      videoId\n      uploadAddress\n      uploadAuth\n    }\n  }\n}\n"}},operationName:"videosGetUploadCredential",defName:"videosGetUploadCredential"},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"videosSaveUrl"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videosSaveUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"mutation videosSaveUrl($videoId: String!) {\n  videosSaveUrl(videoId: $videoId) {\n    video {\n      uuid\n    }\n  }\n}\n"}},operationName:"videosSaveUrl",defName:"videosSaveUrl"};var j=function(){function e(e){var t=this;this.file=e,this._process$=new r.a,this.subscription=new o.a,this.uploader=null,this.onUploadStarted=function(e){var n,r,o;t.subscription.add((n=t.file.name,void 0===r&&(r=n),void 0===o&&(o=""),_.b.getInstance(O.a).mutate({mutation:S,variables:{data:{title:r,fileName:n,description:o}}}).pipe(Object(u.a)((function(e){return e.data.videosGetUploadCredential.credential})),Object(E.a)("\u4e0a\u4f20\u89c6\u9891\u7684\u8ba4\u8bc1\u4fe1\u606f\u83b7\u53d6\u5931\u8d25"))).subscribe({next:function(n){var r=n.uploadAuth,o=n.uploadAddress,i=n.videoId;t.uploader&&t.uploader.setUploadAuthAndAddress(e,r,o,i)},error:function(e){return t.onError(e)}}))},this.onUploadSucceed=function(e){var n;e.videoId&&t.subscription.add((n=e.videoId,_.b.getInstance(O.a).mutate({mutation:h,variables:{videoId:n}}).pipe(Object(u.a)((function(e){return e.data.videosSaveUrl.video.uuid})),Object(E.a)("\u4fdd\u5b58\u89c6\u9891 ID \u5931\u8d25"))).subscribe((function(e){t._process$.next({progress:1,done:!0,url:e}),t._process$.complete()})))},this.onUploadFailed=function(e,n,r){t.onError(n+": "+r)},this.onUploadProgress=function(e,n,r){t._process$.next({progress:r,done:!1})},this.onUploadTokenExpired=function(e){var n;e.videoId&&t.subscription.add((n=e.videoId,_.b.getInstance(O.a).mutate({mutation:S,variables:{videoId:n}}).pipe(Object(u.a)((function(e){return e.data.videosRefreshUploadCredential.credential})),Object(E.a)("\u4e0a\u4f20\u89c6\u9891\u7684\u8ba4\u8bc1\u4fe1\u606f\u5237\u65b0\u5931\u8d25"))).subscribe({next:function(e){var n=e.uploadAuth;t.uploader&&t.uploader.resumeUploadWithAuth(n)},error:function(e){return t.onError(e)}}))},this.process$=new i.a((function(e){return t.subscription.add(t._process$.subscribe(e)),t.subscription.add(t.prepare$().subscribe((function(e){t.uploader=e,e.addFile(t.file,null,null,null,""),e.startUpload()}))),function(){t.subscription.unsubscribe(),t.uploader&&(t.uploader.stopUpload(),t.uploader.cleanList(),t.uploader=null)}}))}return e.prototype.prepare$=function(){var e=this;return Object(a.a)(g()).pipe(Object(u.a)((function(t){return new t.Vod({userId:"255395823566389293",onUploadstarted:e.onUploadStarted,onUploadSucceed:e.onUploadSucceed,onUploadFailed:e.onUploadFailed,onUploadProgress:e.onUploadProgress,onUploadTokenExpired:e.onUploadTokenExpired})})))},e.prototype.onError=function(e){this._process$.next({progress:0,done:!0,error:e}),this._process$.complete()},e}();function k(e){var t=e.file,n=Object(c.a)(t);return new j(n).process$}},KNJy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("ERkP"),o=n.n(r),i=function(e,t,n){o.a.useEffect((function(){var r=function(r){var o=function(e){return e.current&&e.current.contains(r.target)},i=o(e),a=(null===n||void 0===n?void 0:n.length)&&n.some((function(e){return o(e)}));i||a||t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[t,n,e])}},MQbn:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("D57K"),o=n("nnm9"),i=n.n(o),a=n("ERkP"),u=n.n(a),c=n("WWwk"),l=n("GCqd"),d=n("TMWK"),s=n("3xQV"),p=Object(d.a)("div",{target:"euyvu2f0"})({".contentWidgets":{width:"100%"}},"label:Container;");var f=Object(a.memo)(Object(a.forwardRef)((function(e,t){var n=e.options,o=e.onSetup,c=void 0===o?i.a:o,l=Object(r.__rest)(e,["options","onSetup"]),d=Object(a.useRef)(null),f=Object(s.a)(d,n);return Object(a.useImperativeHandle)(t,(function(){return{editor:f}}),[f]),Object(a.useEffect)((function(){if(f)return function(e){var t=e.addContentWidget;e.addContentWidget=function(e){t.call(this,Object.assign(e,{allowEditorOverflow:!1}))}}(f),c(f)}),[f]),u.a.createElement(p,Object(r.__assign)({},l,{ref:d}))}))),m=Object(a.memo)(Object(a.forwardRef)((function(e,t){var n=e.onContentChange,o=e.content,d=e.onSetup,s=void 0===d?i.a:d,p=e.onSave,m=void 0===p?i.a:p,b=e.options,g=Object(r.__rest)(e,["onContentChange","content","onSetup","onSave","options"]),v=Object(a.useRef)(null),_=Object(a.useRef)(n);_.current=n;var O=Object(a.useRef)(m);O.current=m;var E=Object(a.useCallback)((function(){var e=v.current&&v.current.editor;if(e&&e.getValue()!==o){var t=e.getModel();t&&(e.pushUndoStop(),e.executeEdits("",[{range:t.getFullModelRange(),text:o}]),e.pushUndoStop())}}),[o]),S=Object(a.useRef)("input"),h=Object(a.useCallback)((function(e){return e.onDidChangeModelContent((function(t){_.current(e.getValue(),t,S.current),S.current="input"})),e.onKeyDown((function(e){var t=e.keyCode,n=e.ctrlKey,r=e.metaKey;52===t&&(r||n)&&(S.current="paste")})),e.addAction({id:"save-action",label:"Save",keybindings:[l.b.CtrlCmd|l.a.KEY_S],run:function(e){O.current(e.getValue())}}),E(),s(e)}),[_,E,O]);Object(c.a)(E,[o]),Object(a.useImperativeHandle)(t,(function(){return{get editor(){return v.current&&v.current.editor}}}));var j=Object(a.useMemo)((function(){return Object(r.__assign)(Object(r.__assign)({},b),{value:o})}),[b]);return u.a.createElement(f,Object(r.__assign)({},g,{ref:v,options:j,onSetup:h}))})))},S6Il:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("D57K"),o=n("DuHN"),i=(n("IJu9"),n("ERkP")),a=n.n(i),u=n("Bxa6"),c=n("7XlA"),l=n("TMWK"),d=n("fgAA"),s=n("nsrM"),p=n("/a1N"),f=n("MQbn"),m={language:s.a,theme:"vs",wordWrap:"on",occurrencesHighlight:!1,automaticLayout:!0,minimap:{enabled:!1},scrollbar:{verticalScrollbarSize:5},lineDecorationsWidth:0,lineNumbers:"off",contextmenu:!1,links:!1,quickSuggestions:!1},b=Object(i.memo)(Object(i.forwardRef)((function(e,t){var n;!function(e){var t=Object(d.j)();Object(i.useEffect)((function(){if(e){var n=Object(p.a)().subscribe((function(){var e=t?"vs-dark":"vs";loadTM().then((function(t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.defineTheme(monaco,e)];case 1:return n.sent(),monaco.editor.setTheme(e),t.injectCSS(),[2]}}))}))}))}));return function(){return n.unsubscribe()}}}),[e,t])}(!(null===(n=e.options)||void 0===n?void 0:n.theme));var o=Object(d.j)();m.theme=o?"vs-dark":"vs";var u=Object(i.useMemo)((function(){return Object(r.__assign)(Object(r.__assign)({},m),e.options)}),[e.options]);return a.a.createElement(f.a,Object(r.__assign)({},e,{ref:t,options:u}))}))),g=Object(l.a)(b,{target:"e1sntmkr0"})({flex:"1"},"label:InternalEditor;"),v=Object(l.a)("div",{target:"e1l9lmdn0"})({display:"flex",flexDirection:"column",height:"100%",background:d.a.grey(0)},"label:Container;"),_={flex:1,display:"flex",flexDirection:"column",position:"relative"},O=Object(l.a)("div",{target:"eozouid0"})({height:"32px",fontSize:"12px",display:"flex",alignItems:"center",position:"absolute",bottom:"0px",left:"0px",right:"0px",padding:"0 15px",borderTop:"1px solid "+d.a.grey(2),background:d.a.grey(0),color:d.a.grey(5),pointerEvents:"none"},(function(e){var t=e.uploadingCount;return{opacity:t>0?1:0,transition:t>0?"opacity .3s":"opacity .3s 1s"}}),"label:Container;"),E=function(e){return a.a.createElement(O,Object(r.__assign)({},e),"\u56fe\u7247\u4e0a\u4f20\u4e2d \u2026")},S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={uploadingCount:0},t._uploaderRef=a.a.createRef(),t._editorRef=a.a.createRef(),t.onContentPasted=function(e){var n=u.a.getFilesOnPaste(e);n.length>0&&t.uploader&&(e.preventDefault(),t.uploader.uploadAndTriggerUploadCallback(n))},t.onUpload=function(e){t.setState((function(t){return{uploadingCount:t.uploadingCount+e.length}}),(function(){e.forEach((function(e){e.then((function(e){var n=e.url,r=e.file;if(null===e.error){if(t.editor){var i=r.name.replace(/([[\]])/g,"\\$1"),a=encodeURI(n).replace(/([()])/g,"\\$1");Object(c.a)({editor:t.editor,content:"!["+i+"]("+a+")"})}}else o.b.error("fail to upload "+r.name)})).finally((function(){t.setState((function(e){return{uploadingCount:e.uploadingCount-1}}))}))}))}))},t.onDropFileIntoEditor=function(e){var n=u.a.getFilesOnDrop(e).pop();n&&u.a.isValidFileType(n,["text/markdown"])&&new Response(n).text().then((function(e){t.editor&&t.editor.setValue(e)}))},t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"uploader",{get:function(){return this._uploaderRef.current},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this._editorRef.current&&this._editorRef.current.editor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptedUploadTypes",{get:function(){return this.props.acceptedUploadTypes||t.defaultAcceptedUploadTypes},enumerable:!1,configurable:!0}),t.prototype.render=function(){return a.a.createElement(v,null,this.renderEditor())},t.prototype.renderEditor=function(){return a.a.createElement(u.a,{customStyle:_,ref:this._uploaderRef,onUpload:this.onUpload,onDrop:this.onDropFileIntoEditor,accepts:this.acceptedUploadTypes},a.a.createElement(g,{ref:this._editorRef,placeholder:"\u6b64\u5904\u8f93\u5165\u6587\u7ae0\u5185\u5bb9\uff0c\u652f\u6301 Markdown \u8bed\u6cd5\uff0c\u53ef\u62d6\u62fd Markdown \u6587\u4ef6\u81f3\u6b64\u5bfc\u5165\u6587\u7ae0",content:this.props.content,onContentChange:this.props.onContentChange,onPaste:this.onContentPasted,onSetup:this.props.onSetup,options:this.props.options}),a.a.createElement(E,{uploadingCount:this.state.uploadingCount}))},t.defaultAcceptedUploadTypes=["image/*"],t}(a.a.PureComponent)},"Zd/e":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("5Nzd"),o=n("jq/l"),i=n.n(o),a=n("aJyk"),u=n("pN2L"),c=n("HnWI"),l=n("AouM"),d=n("Jg5f"),s=n("IMYO"),p=n("l8fx"),f=function(e){return Object(u.a)({error:e,progress:0,done:!0})};function m(e){var t=e.file,n=e.bucket,o=e.prefix,u=e.uploadFrom,m=e.cancelToken;return function(e){var t=e.file,n=e.bucket,o=void 0===n?"leetcode-pic":n,i=e.prefix,u=void 0===i?"":i,c=e.uploadFrom,l=void 0===c?"":c,d=e.cancelToken,s=r.b.getInstance(p.a),f="assessment"===l?"https://oss.lingkou.work":"https://oss.leetcode-cn.com";return s.post(f+"/signature",{data:{method:"PUT",resource:""+u+t.name,bucket:o,region:"oss-cn-hangzhou",contentType:t.type||Object(a.lookup)(t.name)},cancelToken:d})}({file:t,bucket:n,prefix:o,uploadFrom:u,cancelToken:m}).pipe(Object(l.a)((function(e){return function(e,t,n){var o=e.uploadUrl;return new c.a((function(e){var u=r.b.getInstance(p.a).put(o,{headers:i()({"content-type":t.type||Object(a.lookup)(t.name)},(function(e){return null===e})),data:t,withCredentials:!0,cancelToken:n,onUploadProgress:function(t){var n=t.loaded,r=t.total;e.next({progress:n/r,done:!1})}}).subscribe({next:function(){return e.next({progress:1,done:!0})},complete:function(){return e.complete()},error:function(t){return e.error(t)}});return function(){return u.unsubscribe()}}))}(e,t,m).pipe(Object(d.a)((function(t){return{done:t.done,progress:t.progress,url:e.cdnUrl,resourcePath:e.resourcePath,uploadUrl:e.uploadUrl}})),Object(s.a)(f))})),Object(s.a)(f))}},nsrM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,o="markdown";!function(e){e.Syntax="syntax",e.MetaData="metadata",e.Keyword="keyword",e.Identifier="identifier",e.Header="header",e.BlockQuote="block quotes",e.CodeSpan="code span",e.IndentedCodeBlock="indented code block",e.FencedCodeBlockLanguage="fenced code block language",e.LinkTitle="link.title",e.LinkDestination="link.destination",e.ImageLink="image.link"}(r||(r={}))},"qz+f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return y}));var r,o,i=n("D57K"),a=n("5Nzd"),u=n("TMWK"),c=n("ERkP"),l=n.n(c),d=n("Tr4L"),s=n("fgAA"),p=n("FMf8"),f=n("sq6C"),m=n("ildc"),b=n("5ZzG"),g=n("/NrN"),v=n("nXSc"),_=n("DsCi");!function(e){e.TITLE="title",e.BOLD="bold",e.ITALIC="italic",e.NUMBER_LIST="number-list",e.BULLET_LIST="list",e.GROUPED_CODE_FENCE="playground",e.CODE_FENCE="code",e.INLINE_CODE="code-inline",e.IMAGE="image",e.VIDEO="video",e.LINK="link",e.Mention="at"}(o||(o={}));var O=function(e,t){var n,r=e?"\u2318":"Ctrl";return(n={})[o.TITLE]=t("monaco:shortcut.title")+": "+r+" + 1",n[o.BOLD]=t("monaco:shortcut.bold")+": "+r+" + B",n[o.ITALIC]=t("monaco:shortcut.italic")+": "+r+" + I",n[o.NUMBER_LIST]=t("monaco:shortcut.number_list")+": "+r+" + O",n[o.BULLET_LIST]=t("monaco:shortcut.bullet_list")+": "+r+" + U",n[o.GROUPED_CODE_FENCE]=t("monaco:shortcut.grouped_code_fence"),n[o.CODE_FENCE]=t("monaco:shortcut.code_fence")+": "+r+" + Alt + C",n[o.INLINE_CODE]=t("monaco:shortcut.inline_code")+": Ctrl + `",n[o.IMAGE]=t("monaco:shortcut.image"),n[o.VIDEO]=t("monaco:shortcut.video"),n[o.LINK]=t("monaco:shortcut.link")+": "+r+" + K",n[o.Mention]=t("monaco:shortcut.mention"),n},E=((r={})[o.TITLE]=_.a.HeadingNext.id,r[o.BOLD]=_.a.StrongEmphasis.id,r[o.ITALIC]=_.a.Emphasis.id,r[o.NUMBER_LIST]=_.a.OrderedList.id,r[o.BULLET_LIST]=_.a.BulletList.id,r[o.GROUPED_CODE_FENCE]=_.a.GroupedCodeFence.id,r[o.CODE_FENCE]=_.a.CodeFence.id,r[o.INLINE_CODE]=_.a.CodeSpan.id,r[o.LINK]=_.a.Link.id,r[o.Mention]=_.a.MentionUser.id,r[o.VIDEO]=_.a.UploadVideo.id,r),S=function(e){return Object.values(_.a).forEach((function(t){"function"===typeof t?t(e):e.addAction(t)})),function(){var e=a.b.getInstanceByToken(p.a.provide).get(Object(s.g)()?f.i.monacoDarkTheme:f.i.monacoTheme);e&&loadTM().then((function(t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.defineTheme(monaco,e)];case 1:return n.sent(),monaco.editor.setTheme(e),t.injectCSS(),[2]}}))}))}))}},h=function(e,t,n){void 0===n&&(n={});var r=E[t],o=e&&r&&e.getAction(r);e&&o&&(n.focusEditor&&e.focus(),o.run())},j=function(e){return Object(c.useCallback)((function(t){var n=e.current&&e.current.editor,r=e.current&&e.current.uploader;switch(t){case o.Mention:return void h(n,o.Mention,{focusEditor:!1});case o.IMAGE:return void(r&&r.openFileDialog());default:return void h(n,t,{focusEditor:!0})}}),[e])},k=Object(u.a)(g.a,{target:"eoefa6f0"})({marginRight:"10px"},"label:ShortcutButton;"),C=[o.TITLE,o.BOLD,o.ITALIC,o.NUMBER_LIST,o.BULLET_LIST,o.GROUPED_CODE_FENCE,o.CODE_FENCE,o.INLINE_CODE,o.IMAGE,o.VIDEO,o.LINK,o.Mention],y=Object(c.memo)((function(e){var t=e.shortcuts,n=void 0===t?C:t,r=e.onTrigger,o=e.tooltipVisible,a=void 0===o||o,u=e.disabled,s=void 0!==u&&u,p=e.toolTipContainer,f=void 0===p?null:p,g=e.className,_=Object(d.a)().t,E=Object(c.useCallback)((function(e){var t=e.currentTarget.dataset.type;r(t)}),[r]),S=a?{}:{isActive:!1};return l.a.createElement(l.a.Fragment,null,n.map((function(e,t){return l.a.createElement(v.a,Object(i.__assign)({key:e,placement:0===t?"top-start":"top",content:O(Object(m.m)(),_)[e],portalContainer:f},S),l.a.createElement(k,{disabled:s,prefixIcon:l.a.createElement(b.a,{type:e}),"data-type":e,onClick:E,size:"xs",kind:"ghost",className:g}))})))}))},sq6C:function(e,t,n){"use strict";var r;n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"z",(function(){return i})),n.d(t,"A",(function(){return a})),n.d(t,"o",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"s",(function(){return m})),n.d(t,"v",(function(){return b})),n.d(t,"p",(function(){return g})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return _})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return h})),n.d(t,"q",(function(){return j})),n.d(t,"n",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"k",(function(){return y})),n.d(t,"w",(function(){return U})),n.d(t,"y",(function(){return x})),n.d(t,"x",(function(){return T})),function(e){e.fontSize="global_font_size",e.keyMap="global_key_map",e.codemirrorTheme="global_codemirror_theme",e.codemirrorDarkTheme="global_codemirror_dark_theme",e.monacoTheme="global_monaco_theme",e.monacoDarkTheme="global_monaco_dark_theme",e.tabSize="global_tab_size",e.editorKind="global_editor_kind"}(r||(r={}));var o={interpretCode:"global_disabled_interpret_code",submitCode:"global_disabled_submit_code"},i="global_lang_key",a="latest_joined_exam",u="LATEST_JOINED_COMPANY",c="CURRENT_LOGIN_USER",l="CURRENT_ASSESSMENT_VIEW",d="PARTICIPANT_LIST_VIEW",s="ASSESSMENT_OVERVIEW_TABLE_COLUMN_LIST",p="ASSESSMENT_FLEXIBLE_TABLE_COLUMN_LIST",f="ASSESSMENT_FIXED_TABLE_COLUMN_LIST",m="PARTICIPANT_TABLE_COLUMN_LIST",b="REGULAR_QUIZ_COLUMN_LIST",g="LEETCODE_QUESTION_COLUMN_LIST",v="PRIVATE_QUESTION_COLUMN_LIST",_="QUESTION_SET_COLUMN_LIST",O="CONTEST_TABLE_COLUMN_LIST",E="CONTEST_PARTICIPANT_TABLE_COLUMN_LIST",S="INTERVIEW_TABLE_COLUMN_LIST",h="HISTORY_ENTERPRISE_TAGS",j="NEW_ROLE_CREATED",k="invite",C="CREATE_FROM_QUESTION_SET",y="ENTERPRISE_FEATURE_INTRODUCED";function U(e,t,n){return e+"_"+t+"_"+n+"_code"}function x(e,t){return e+"_"+t+"_lang"}function T(){return"contribution:Testcases"}},tUzc:function(e,t,n){"use strict";function r(e){var t=e.name,n=e.type,r=e.size,o=t.replace("+","_"),i=e.slice(0,r,n);return new File([i],o,{type:n})}function o(e){return e.replace("+","_")}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},"vc+z":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("D57K"),o=n("ERkP"),i=n("d9YI"),a=n("w0un"),u=n("AouM"),c=n("U3QC"),l=n("z5yO"),d=n("IMYO"),s=n("fgzu");function p(e){var t=Object(r.__read)(Object(o.useState)(""),2),n=t[0],p=t[1],f=Object(r.__read)(Object(o.useState)(!1),2),m=f[0],b=f[1],g=Object(r.__read)(Object(o.useState)(0),2),v=g[0],_=g[1],O=Object(o.useRef)(e),E=Object(r.__read)(Object(o.useState)(""),2),S=E[0],h=E[1],j=Object(r.__read)(Object(o.useState)(null),2),k=j[0],C=j[1];return O.current=e,{isUploading:m,uploadProgress:v,handleOnUpload:Object(r.__read)(Object(a.a)((function(e){return e.pipe(Object(u.a)((function(e){return e.pipe(Object(c.a)((function(e){var t=e.reduce((function(e,t){return e+t.file.size}),0),n=e.reduce((function(e,t){var n=t.progress;return e+t.file.size*n}),0);if(_(n/t),b(!0),p(e.map((function(e){return e.file.name})).join(", ")),1===e.length){var r=URL.createObjectURL(e[0].file);h(r)}})),Object(l.a)((function(e){return e.every((function(e){return e.done}))})),Object(c.a)((function(e){O.current(e),b(!1)})),Object(d.a)((function(e){return s.a.error(e),C(e),b(!1),_(0),i.a})))})),Object(u.a)((function(){return i.a})))}),null,[b,_,p,O]),1)[0],filename:n,blobUrl:S,error:k}}},yO5n:function(e,t,n){"use strict";function r(e){var t=e.convertedText.length-e.selectedText.length;return e.selectedRange.setEndPosition(e.selectedRange.endLineNumber,e.selectedRange.endColumn+t)}n.d(t,"a",(function(){return r}))}}]);