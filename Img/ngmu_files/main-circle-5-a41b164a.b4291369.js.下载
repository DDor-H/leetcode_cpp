(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[31],{SrIy:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var a=t("ERkP"),i=t("zCf4"),r=t("D57K"),l=t("2DAM"),o=t.n(l),c=t("B6lN"),d=[["usr1li8io9vr7c04",c.PATH.inviteFriends.share,function(){return{LeetCodeUrl:""}}],["usr1li8io9vr7c04",c.PATH.inviteFriends.home,function(){return{LeetCodeUrl:window.location.href}}],["usr1li8io9vr7c04","/",function(){return{LeetCodeUrl:window.location.href}}]];var u=t("ildc"),s=t("ysU/"),m=function(){var e=Object(a.useRef)(null),n=Object(i.i)(),t=Object(u.q)()&&Object(u.d)(),l=Object(a.useMemo)((function(){return function(e){var n,t;try{for(var a=Object(r.__values)(d),i=a.next();!i.done;i=a.next()){var l=Object(r.__read)(i.value,3),c=l[0],u=l[1],s=l[2],m=o()(u,void 0,{end:!1}).exec(e);if(m)return{id:c,data:s(m)}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}return null}(n.pathname)}),[n.pathname]);return Object(a.useEffect)((function(){l&&!t&&Object(s.a)("https://g.alicdn.com/jssdk/u-link/index.min.js").then((function(){window.ULink?window.ULink.start(l).ready((function(n){e.current=n})):console.error("ULink \u5c1a\u672a\u52a0\u8f7d\u6210\u529f")}))}),[l,t]),Object(a.useCallback)((function(){t?window.location.href="https://a.app.qq.com/o/simple.jsp?pkgname=com.lingkou.leetcode":e.current?e.current.wakeup():console.error("ULink \u6fc0\u6d3b\u5931\u8d25")}),[t])}},TuLi:function(e,n,t){"use strict";t.d(n,"a",(function(){return De}));var a,i=t("ERkP"),r=t.n(i),l=t("ildc"),o=t("34li"),c=t("D57K"),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentRewardStats"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentSlug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RewardContentType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcRewardsContentRewardStats"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"contentSlug"},value:{kind:"Variable",name:{kind:"Name",value:"contentSlug"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasRewarded"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reasons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userAvatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query contentRewardStats($contentId: ID, $contentSlug: String, $contentType: RewardContentType!) {\n  ugcRewardsContentRewardStats(contentId: $contentId, contentSlug: $contentSlug, contentType: $contentType) {\n    userCount\n    rewardEnabled\n    hasRewarded\n    reasons {\n      count\n      content\n    }\n    users {\n      realName\n      userAvatar\n      userSlug\n    }\n  }\n}"}},operationName:"contentRewardStats",defName:"ugcRewardsContentRewardStats"},u=t("bd/m"),s=t("xqpu"),m=t("SrIy"),b=t("UqMZ"),v=t("YnR9"),g=t("uH64"),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createRewardOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateRewardOrderInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcRewardsCreateRewardsOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"orderId"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation createRewardOrder($data: CreateRewardOrderInput!) {\n  ugcRewardsCreateRewardsOrder(data: $data) {\n    ok\n    orderId\n  }\n}"}},operationName:"createRewardOrder",defName:"ugcRewardsCreateRewardsOrder"},k=t("S7b9"),f=(t("mZxn"),t("u8N8")),O=t("VKn7"),j=(t("53cK"),t("qkQm")),y=t("TMWK"),w=t("fgAA"),N=t("N49g"),S=t("/NrN"),R=t("88eL"),C=t("CkJS"),h=Object(y.a)(N.a,{target:"e1b6veu90"})(Object(w.h)(w.a.blue,w.a.primary),((a={padding:0,width:"580px",position:"relative",borderRadius:"21px",borderWidth:"0px"})[w.c]={borderWidth:"0px"},a),"label:StyledModal;"),E=Object(y.a)("div",{target:"e1b6veu91"})({padding:"20px",background:w.b.FillQuaternary(),display:"flex",alignItems:"center",borderRadius:"21px 21px 0 0"},"label:HeaderWrapper;"),x=Object(y.a)("div",{target:"e1b6veu92"})({marginLeft:"10px"},"label:Right;"),_=Object(y.a)("div",{target:"e1b6veu93"})({fontWeight:500,color:w.b.LabelPrimary(),marginBottom:"4px"},"label:UserName;"),I=Object(y.a)("div",{target:"e1b6veu94"})(C.a.paragraph.sm,{color:w.b.LabelTertiary()},"label:Notice;"),T=Object(y.a)("div",{target:"e1b6veu95"})({width:"100%",padding:"20px",textAlign:"right"},"label:Footer;"),A=Object(y.a)(S.a,{target:"e1b6veu96"})({borderRadius:"5px",background:w.b.PrimaryStandard(),padding:"6px 30px"},"label:StyledButton;"),D=Object(y.a)("div",{target:"e1b6veu97"})((function(e){var n=e.selected;return{height:"36px",background:""+(n?"rgba(0, 122, 255, 0.08)":w.b.Overlay1()),border:"2px solid "+(n?w.b.PrimaryStandard():w.b.FillTertiary()),color:n?w.b.BlueStandard():w.b.LabelSecondary(),boxSizing:"border-box",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginTop:"10px"}}),"label:StyledRewardTag;"),F=Object(y.a)("div",{target:"e1b6veu98"})({margin:"20px 20px 12px"},"label:SelectorWrapper;"),L=Object(y.a)("div",{target:"e1b6veu99"})({color:w.b.LabelSecondary()},"label:SelectorTitle;"),V=Object(y.a)("span",{target:"e1b6veu910"})({color:w.b.RedStandard(),marginLeft:"4px"},"label:IconRequired;"),M=Object(y.a)(R.a,{target:"e1b6veu911"})({marginLeft:"8px"},"label:StyledIconEdit;"),U=Object(y.a)(k.a,{target:"e1b6veu912"})({marginTop:"10px"},"label:CustomInputRow;"),W=Object(y.a)("div",{target:"e1b6veu913"})({width:"100%",height:"32px",lineHeight:"32px",textAlign:"center",background:w.b.FillTertiary(),borderRadius:"5px",cursor:"pointer",color:w.b.BlueStandard(),marginTop:"1px",display:"inline-block"},(function(e){return e.disabled?{opacity:"0.5",cursor:"not-allowed"}:null}),"label:ButtonConfirm;"),q=function(e){var n=e.className,t=e.initialValue,a=e.onConfirm,l=void 0===a?function(){}:a,o=Object(c.__read)(Object(i.useState)({value:t||"",disabled:!t}),2),d=o[0],u=o[1],s=d.value,m=d.disabled,b=Object(i.useCallback)((function(e){var n=e.replace(/\D/g,"");u({value:n,disabled:Number(n)>500||Number(n)<1})}),[]),v=Object(i.useCallback)((function(){!m&&s&&l(Number(s))}),[m,s,l]);return r.a.createElement(U,{gutter:24,className:n},r.a.createElement(O.a,{span:18},r.a.createElement(j.a,{width:"100%",value:s,placeholder:"\u8bf7\u8f93\u5165\u4f60\u60f3\u8d5e\u8d4f\u7684\u6574\u6570\u91d1\u989d\uff081 - 500 \u5143\uff09",onValueChange:b})),r.a.createElement(O.a,{span:6},r.a.createElement(W,{disabled:m,onClick:v},"\u786e\u5b9a")))},z=function(e){var n=e.content,t=void 0===n?"":n,a=e.selected,l=void 0!==a&&a,o=e.value,c=e.onClick,d=void 0===c?function(){}:c,u="string"===typeof t&&t.length>6?12:6,s=Object(i.useCallback)((function(){d({value:o,content:t})}),[d,o,t]);return r.a.createElement(O.a,{span:u},r.a.createElement(D,{onClick:s,selected:l},t))},$=[{name:"2 \u5143",value:2},{name:"6 \u5143",value:6},{name:"10 \u5143",value:10}],B=function(e){var n=e.amount,t=e.customAmount,a=e.customSelected,l=e.editing,o=e.onSelectAmount,c=e.onSelectCustom,d=e.onCustomInputConfirm,u=Object(i.useCallback)((function(e){Object(f.c)(e),c(!0)}),[c]),s=Object(i.useCallback)((function(e){var n=e.value;o(n)}),[o]),m=Object(i.useCallback)((function(){c()}),[c]),b=t?r.a.createElement(r.a.Fragment,null,t," \u5143",r.a.createElement(M,{size:20,onClick:u})):"\u81ea\u5b9a\u4e49\u91d1\u989d";return r.a.createElement(F,null,r.a.createElement(L,null,"\u8bf7\u9009\u62e9\u8d5e\u8d4f\u7ed9 TA \u7684\u91d1\u989d",r.a.createElement(V,null,"*")),r.a.createElement(k.a,{gutter:20},$.map((function(e){return r.a.createElement(z,{key:e.value,value:e.value,content:e.name,selected:n===e.value&&!a,onClick:s})})),r.a.createElement(z,{content:b,selected:a,onClick:m})),l&&r.a.createElement(q,{initialValue:t,onConfirm:d}))},P=t("LQbD"),K=function(e){var n=e.realName,t=void 0===n?"":n,a=e.userAvatar,i=void 0===a?"":a;return r.a.createElement(E,null,r.a.createElement(P.a,{size:36,img:i}),r.a.createElement(x,null,r.a.createElement(_,null,t),r.a.createElement(I,null,"\u8d5e\u8d4f\u4e00\u4e0b\uff0c\u9f13\u52b1\u4f18\u8d28\u5185\u5bb9")))},H={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"rewardReasons"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcRewardsRewardReasons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query rewardReasons {\n  ugcRewardsRewardReasons {\n    content\n    id\n  }\n}"}},operationName:"rewardReasons",defName:"ugcRewardsRewardReasons"},Q=function(e){var n,t=e.selected,a=e.onSelect,l=void 0===a?function(){}:a,o=(null===(n=Object(u.b)(H,{fallbackErrorMessageForUnknownError:"\u83b7\u53d6\u8d5e\u8d4f\u7406\u7531\u5931\u8d25"}).data)||void 0===n?void 0:n.ugcRewardsRewardReasons)||[],c=Object(i.useCallback)((function(e){var n=e.value;l(n||"")}),[l]);return r.a.createElement(F,null,r.a.createElement(L,null,"\u8bf7\u9009\u62e9\u8d5e\u8d4f\u672c\u5185\u5bb9\u7684\u7406\u7531 "),r.a.createElement(k.a,{gutter:24},o.map((function(e){return r.a.createElement(z,{selected:t===(null===e||void 0===e?void 0:e.id),key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.id,content:null===e||void 0===e?void 0:e.content,onClick:c})}))))},J=function(e){var n=e.className,t=void 0===n?"":n,a=e.visible,l=void 0!==a&&a,o=e.onClose,d=void 0===o?function(){}:o,s=e.author,m=e.contentId,b=e.contentType,k=e.channel,f=Object(c.__read)(Object(i.useState)({amount:0,customAmount:0,customSelected:!1,editing:!1}),2),O=f[0],j=f[1],y=Object(c.__read)(Object(i.useState)(""),2),w=y[0],N=y[1],S=O.customSelected,R=O.customAmount,C=O.amount,E=S?!R:!C,x=function(e,n,t){var a=Object(i.useRef)(),r=Object(c.__read)(Object(u.a)(p,{variables:e,onCompleted:function(e){var i,r,l,o;if(null===t||void 0===t||t(),(null===(i=null===e||void 0===e?void 0:e.ugcRewardsCreateRewardsOrder)||void 0===i?void 0:i.ok)&&(null===(r=null===e||void 0===e?void 0:e.ugcRewardsCreateRewardsOrder)||void 0===r?void 0:r.orderId)){var c=null===(l=null===e||void 0===e?void 0:e.ugcRewardsCreateRewardsOrder)||void 0===l?void 0:l.orderId;null===(o=a.current)||void 0===o||o.open("https://pay.lingkou.com"+v.a.pay.paths.rewardOrder({orderId:c})+"?redirect="+encodeURIComponent(n))}},fallbackErrorMessageForUnknownError:"\u521b\u5efa\u8d5e\u8d4f\u8ba2\u5355\u5931\u8d25"}),1)[0];return Object(i.useCallback)((function(){a.current=Object(g.a)(),r()}),[r])}({data:{contentId:m,contentType:b,channel:k,amount:Z(S?R:C),reasons:w?[w]:[]}},location.href,d),_=Object(i.useCallback)((function(e){j((function(n){return Object(c.__assign)(Object(c.__assign)({},n),{amount:e,customSelected:!1,editing:!1})}))}),[]),I=Object(i.useCallback)((function(e){j((function(n){return Object(c.__assign)(Object(c.__assign)({},n),{editing:!n.customAmount||!!e,customSelected:!0})}))}),[]),D=Object(i.useCallback)((function(e){j((function(n){return Object(c.__assign)(Object(c.__assign)({},n),{customAmount:e,editing:!1})}))}),[]),F=Object(i.useCallback)((function(){x()}),[x]);return r.a.createElement(h,{contentPadding:"0",className:t,isActive:l,onClickOutside:d,hideCloseBtn:!1},r.a.createElement(K,{realName:null===s||void 0===s?void 0:s.name,userAvatar:null===s||void 0===s?void 0:s.avatar}),r.a.createElement(B,Object(c.__assign)({},O,{onSelectAmount:_,onSelectCustom:I,onCustomInputConfirm:D})),r.a.createElement(Q,{selected:w,onSelect:N}),r.a.createElement(T,null,r.a.createElement(A,{disabled:E,kind:"primary",onClick:F},"\u786e\u8ba4\u8d5e\u8d4f")))};function Z(e){return 100*e}var G,Y,X,ee,ne=t("GG6d"),te=r.a.forwardRef((function(e,n){return r.a.createElement(ne.a,Object(c.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),r.a.createElement("path",{fillRule:"evenodd",d:"M12 5.236C10.56 4.156 9.12 3.47 7.68 3.47c-2.16 0-5.399 1.62-5.399 5.94 0 3.835 2.782 7.381 8.345 10.638l.384.221a2 2 0 001.98 0c5.82-3.317 8.729-6.936 8.729-10.86 0-4.319-3.24-5.939-5.4-5.939-1.439 0-2.88.688-4.319 1.767z",clipRule:"evenodd"}))})),ae=Object(y.a)("div",{target:"ec5e7pu0"})((function(e){var n=e.size,t=void 0===n?"54px":n,a=e.disabled;return{display:"flex",alignItems:"center",justifyContent:"center",width:t,height:t,borderRadius:"50%",color:w.b.fixed.White(),cursor:a?"unset":"pointer",background:w.b.RedStandard(),margin:"auto"}}),"label:ButtonWrapper;"),ie=function(e){var n=e.className,t=e.disabled,a=void 0!==t&&t,i=e.size,l=e.onClick,o=void 0===l?function(){}:l;return r.a.createElement(ae,{className:n,disabled:a,size:i,onClick:o},r.a.createElement(te,{size:30}))},re=Object(y.a)("div",{target:"e1pi7v60"})({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:"10px",".mobile &":{marginBottom:"12px"}},"label:Wrapper;"),le=Object(y.a)("div",{target:"e1pi7v61"})({textAlign:"center",fontWeight:500,color:w.b.LabelSecondary(),marginTop:"10px"},"label:RewardNotice;"),oe=function(e){var n=Object(i.useContext)(s.d),t=e.rewarded,a=void 0!==t&&t,o=e.className,d=e.rewardEnable,u=void 0!==d&&d,v=Object(c.__rest)(e,["rewarded","className","rewardEnable"]),g=Object(c.__read)(Object(i.useState)(!1),2),p=g[0],k=g[1],f=a?"\u611f\u8c22\u4f60\u7684\u8d5e\u8d4f":"\u8d5e\u8d4f\u4e00\u4e0b\uff0c\u9f13\u52b1\u4f18\u8d28\u5185\u5bb9",O=Object(m.a)(),j=Object(i.useMemo)((function(){return Object(l.n)()?O:b.a.ensureSignedIn((function(){return k(!0)}),{user:n})}),[O,n]),y=Object(i.useCallback)((function(){k(!1)}),[]);return u?r.a.createElement(re,{className:o},r.a.createElement(ie,{onClick:j}),r.a.createElement(le,null,f),r.a.createElement(J,Object(c.__assign)({},v,{visible:p,onClose:y}))):null},ce=t("oz+l"),de=Object(y.a)("div",{target:"eu2w0t50"})(C.a.paragraph.sm,{display:"inline-block",padding:"4px 12px",borderRadius:"60px",background:w.b.FillQuaternary(),color:w.b.LabelTertiary()},"label:Tag;"),ue=Object(y.a)("div",{target:"eu2w0t51"})({width:"100%",textAlign:"center",marginBottom:"10px",".mobile &":{marginBottom:"2px"}},"label:Wrapper;"),se=Object(y.a)("div",{target:"eu2w0t52"})(((G={})[""+de]={margin:"0 10px 10px 0","&:last-of-type":{marginRight:"0"},".mobile &":{marginRight:"6px","&:last-of-type":{marginRight:"0"}}},G),"label:PreviewReasons;"),me=Object(y.a)("span",{target:"eu2w0t53"})(C.a.paragraph.sm,{cursor:"pointer",fontWeight:500,color:w.b.LabelSecondary(),marginLeft:"14px"},"label:ActionText;"),be=Object(y.a)("div",{target:"eu2w0t54"})(((Y={display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"})[""+de]={margin:"0 10px 10px 0","&:last-of-type":{marginRight:"0"},".mobile &":{marginRight:"6px","&:last-of-type":{marginRight:"0"}}},Y[""+me]={marginBottom:"10px"},Y),"label:RestReasons;"),ve=function(e){var n=e.className,t=e.reasons,a=void 0===t?[]:t,l=Object(c.__read)(Object(i.useState)(!1),2),o=l[0],d=l[1],u=a.length>4,s=u?a.slice(0,4):a,m=u&&o?a.slice(4):[],b=Object(i.useCallback)((function(){d(!0)}),[]),v=Object(i.useCallback)((function(){d(!1)}),[]);return a.length?r.a.createElement(ue,{className:n},r.a.createElement(se,null,s.map((function(e){return r.a.createElement(ge,Object(c.__assign)({key:e.content},e))})),u&&!o&&r.a.createElement(me,{onClick:b},"\u66f4\u591a")),!!m.length&&r.a.createElement(be,null,m.map((function(e){return r.a.createElement(ge,Object(c.__assign)({key:e.content},e))})),r.a.createElement(me,{onClick:v},"\u6536\u8d77"))):null},ge=function(e){var n=e.content,t=e.count;return r.a.createElement(de,null,n," ",Object(ce.a)(t))},pe=t("jD4q"),ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentSponsors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RewardContentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcRewardsContentRewardUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userAvatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query contentSponsors($contentId: ID!, $contentType: RewardContentType!, $limit: Int, $skip: Int) {\n  ugcRewardsContentRewardUsers(contentId: $contentId, contentType: $contentType, limit: $limit, skip: $skip) {\n    realName\n    userAvatar\n    userSlug\n  }\n}"}},operationName:"contentSponsors",defName:"ugcRewardsContentRewardUsers"},fe=t("PZP7"),Oe=Object(y.a)(P.a,{target:"ei98m860"})((function(e){return{margin:e.margin,cursor:"pointer",border:"none",padding:0,".mobile &":{marginRight:"6px"}}}),"label:StyledAvatar;"),je=Object(y.a)("div",{target:"ei98m862"})(((X={display:"flex",alignItems:"center",justifyContent:"center"})[""+Oe]={"&:last-of-type":{marginRight:0,".mobile &":{marginRight:0}}},X),"label:Wrapper;"),ye=Object(y.a)("span",{target:"ei98m863"})(C.a.paragraph.sm,{cursor:"pointer",marginLeft:"10px",fontWeight:500,color:w.b.LabelSecondary()},"label:MoreSponsors;"),we=Object(y.a)(N.a,{target:"ei98m864"})({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",flexWrap:"wrap",width:"550px",background:w.b.Overlay3(),borderRadius:"21px",paddingTop:"60px"},"label:StyledModal;"),Ne=Object(y.a)("div",{target:"ei98m867"})(C.a.paragraph.md,{marginTop:"10px",fontWeight:500,textAlign:"center",color:w.b.LabelSecondary()},"label:SponsorCount;"),Se=Object(y.a)("div",{target:"ei98m868"})({height:"180px",overflow:"auto",margin:"30px auto",width:"550px"},"label:SponsorAvatarsWrapper;"),Re=Object(y.a)("div",{target:"ei98m869"})(((ee={margin:"auto",width:"490px"})[""+Oe]={"&:nth-of-type(10n)":{marginRight:0}},ee),"label:SponsorAvatars;"),Ce=Object(y.a)(fe.a.Circle,{target:"ei98m8610"})({marginRight:"10px",display:"inline-block",":last-of-type":{marginRight:"0"}},"label:StyledSkeletonCircle;"),he=function(e){var n=e.contentId,t=e.contentType,a=e.visible,l=void 0!==a&&a,d=e.total,s=void 0===d?0:d,m=e.onClose,b=void 0===m?function(){}:m,v=function(e,n){var t=Object(c.__read)(Object(i.useState)({limit:20,contentId:"",contentType:o.kc.Article,skip:0}),2),a=t[0],r=t[1],l=Object(c.__read)(Object(i.useState)({sponsors:[],needLoadMore:!1}),2),d=l[0],s=l[1],m=Object(u.b)(ke,{variables:a,skip:!a.contentId||!a.contentType,fallbackErrorMessageForUnknownError:"\u83b7\u53d6\u8d5e\u8d4f\u6570\u636e\u5931\u8d25"}),b=m.data,v=m.loading,g=Object(i.useCallback)((function(){r((function(e){return Object(c.__assign)(Object(c.__assign)({},e),{skip:e.skip+20})}))}),[]);return Object(i.useEffect)((function(){e&&n&&r((function(t){return Object(c.__assign)(Object(c.__assign)({},t),{contentId:e,contentType:n})}))}),[e,n]),Object(i.useEffect)((function(){(null===b||void 0===b?void 0:b.ugcRewardsContentRewardUsers)&&s((function(e){return{needLoadMore:!!b.ugcRewardsContentRewardUsers.length,sponsors:e.sponsors.concat(b.ugcRewardsContentRewardUsers)}}))}),[b]),Object(c.__assign)(Object(c.__assign)({},d),{loading:v,loadMore:g})}(n,t),g=v.sponsors,p=v.needLoadMore,k=v.loading,f=v.loadMore;return r.a.createElement(we,{contentPadding:"0px",isActive:l,onClickOutside:b,hideCloseBtn:!1},r.a.createElement(ie,{disabled:!0}),r.a.createElement(Ne,null,s," \u4eba\u8d5e\u8d4f"),r.a.createElement(Se,null,r.a.createElement(Re,null,g.map((function(e){return r.a.createElement(xe,Object(c.__assign)({key:e.userSlug},e,{size:40,margin:"0 10px 10px 0"}))})),r.a.createElement(pe.a,{onLoad:f,needLoad:p}),k&&r.a.createElement(Ee,null))))},Ee=function(){return r.a.createElement(r.a.Fragment,null,Array(20).fill(1).map((function(e,n){return r.a.createElement(Ce,{key:""+e+n,size:40})})))},xe=function(e){var n=e.realName,t=e.userAvatar,a=e.userSlug,l=void 0===a?"":a,o=e.size,c=e.margin,d=Object(i.useCallback)((function(){window.open(v.a.main.paths.publicProfile.home({userSlug:l}))}),[l]);return r.a.createElement(Oe,{key:n,img:t,onClick:d,size:o,margin:c})},_e=function(e){var n=e.className,t=e.sponsors,a=void 0===t?[]:t,l=e.total,o=void 0===l?0:l,d=Object(c.__read)(Object(i.useState)(!1),2),u=d[0],s=d[1],m=o>6,b=m?a.slice(0,6):a,v=Object(i.useCallback)((function(){s(!0)}),[]),g=Object(i.useCallback)((function(){s(!1)}),[]);return a.length?r.a.createElement(je,{className:n},b.map((function(e){return r.a.createElement(xe,Object(c.__assign)({key:e.userSlug},e,{size:24,margin:"0 14px 0 0"}))})),m?r.a.createElement(ye,{onClick:v},Object(ce.a)(o)," \u4eba\u8d5e\u8d4f"):null,u&&r.a.createElement(he,Object(c.__assign)({},e,{visible:!0,onClose:g}))):null},Ie=Object(y.a)("div",{target:"egly3rq0"})("label:Wrapper;"),Te=Object(y.a)(ve,{target:"egly3rq1"})({},"label:StyledRewardReasons;"),Ae=Object(y.a)(_e,{target:"egly3rq2"})({},"label:StyledRewardSponsors;"),De=function(e){var n=e.className,t=e.contentId,a=e.contentType,s=e.contentSlug,m=e.author,b=function(e){var n=Object(u.b)(d,{variables:e,skip:!e.contentId&&!e.contentSlug,fallbackErrorMessageForUnknownError:"\u83b7\u53d6\u8d5e\u8d4f\u6570\u636e\u5931\u8d25"}),t=n.data,a=n.refetch;return Object(i.useEffect)((function(){a()}),[a]),Object(c.__assign)({rewardEnabled:!1,hasRewarded:!1,reasons:[],users:[],userCount:0},null===t||void 0===t?void 0:t.ugcRewardsContentRewardStats)}({contentId:t,contentSlug:s,contentType:a}),v=b.rewardEnabled,g=b.hasRewarded,p=b.reasons,k=b.users,f=b.userCount,O=v||(null===k||void 0===k?void 0:k.length),j=Object(l.n)()?"mobile":"";return O?r.a.createElement(Ie,{className:n+" "+j},r.a.createElement(oe,{author:m,rewarded:g,rewardEnable:!!v,contentId:t,contentType:a,channel:o.jc.Web}),r.a.createElement(Te,{reasons:p}),r.a.createElement(Ae,{sponsors:k,total:f,contentId:t,contentType:a})):null}},jD4q:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t("D57K"),i=t("ERkP"),r=t.n(i),l=r.a.memo((function(e){var n=e.needLoad,t=Object(a.__rest)(e,["needLoad"]);return n?r.a.createElement(o,Object(a.__assign)({},t)):null}));function o(e){var n=e.className,t=Object(a.__rest)(e,["className"]),l=Object(i.useRef)(null);return function(e){var n=Object(i.useRef)(e);n.current!==e&&(n.current=e);Object(i.useEffect)((function(){var e,t=n.current,i=t.loaderRef,r=t.onLoad,l=t.root,o=Object(a.__rest)(t,["loaderRef","onLoad","root"]),c=i.current;if(c){if(window.IntersectionObserver){var d=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&r()}))}),Object(a.__assign)(Object(a.__assign)({rootMargin:"0px",threshold:1},o),{root:null!==(e=null===l||void 0===l?void 0:l.current)&&void 0!==e?e:null}));return d.observe(c),function(){return d.disconnect()}}r()}}),[])}(Object(a.__assign)(Object(a.__assign)({},t),{loaderRef:l})),r.a.createElement("div",{ref:l,className:n})}},"oz+l":function(e,n,t){"use strict";function a(e,n){return void 0===n&&(n=99),e<n?e:n+"+"}t.d(n,"a",(function(){return a}))}}]);